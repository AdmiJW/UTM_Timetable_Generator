{"version":3,"sources":["Redux/Actions/ActionTypes.js","LogicUtils/Converters.js","LogicUtils/ClashChecker.js","LogicUtils/TimeFlattener.js","Redux/Reducers/TimetableReducer.js","Testcases/timetable1.js","Redux/Store/Store.js","Redux/Actions/CourseActions.js","Redux/Actions/TimetableActions.js","Redux/Actions/TimeActions.js","Components/CourseTimeItem.js","Components/CourseItem.js","Components/CourseContainer.js","LogicUtils/KonvaFactory.js","LogicUtils/TimetableConfig.js","LogicUtils/TimetableBaseDrawer.js","LogicUtils/TimetableSlotDrawer.js","Components/TimetablePreviewer.js","Components/MainDiv.js","index.js"],"names":["ActionTypes","ADD_COURSE","DELETE_COURSE","CHANGE_COURSE_INFO","ADD_TIME","DELETE_TIME","CHANGE_TIME_INFO","VIEW_TIMETABLE","CLOSE_PREVIEW","dayOfWeekArr","sessionArr","Converters","dayOfWeekIndexConverter","dayOfWeek","reverseMap","indexOf","sessionIndexConverter","session","clashChecker","courseItems","courseTimeItems","virtualTimetable","courseIndex","courseObject","courseTimes","timeIndex","row","col","slot","undefined","courseName","lecturerName","courseCode","timeFlattener","rowLen","length","colLen","reduce","max","curr","Math","resultingArr","timetableEntry","startingSession","endingSession","courseObj","push","initialState","nextCourseID","courseID","timeID","nextTimeID","timetableRenderData","isPreviewOpen","renderData","courseFactory","nextID","timetableReducer","state","action","type","newCourseItem","Object","assign","courseIndexToDel","payload","newInfoValues","courseIndexToChange","courseIndexToAdd","newCourseTimes","timeIndexToDel","timeIndexToChange","newTimeValues","e","window","alert","flattenedVirtualTimetable","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","courseActions","addCourse","deleteCourse","changeCourseInfo","TimetableActions","viewTimetable","closePreview","TimeActions","addTime","deleteTime","changeTimeInfo","CourseTimeItem","props","bind","this","timeItemHTML","document","getElementById","timeInfo","timeDayOfWeekHTML","children","timeSessionHTML","classList","add","setTimeout","value","className","id","onClick","onChange","React","Component","connect","dispatch","CourseItem","courseItemHTML","courseItemInfoElements","courseNameHTML","lecturerNameHTML","courseCodeHTML","textContent","keys","map","timeIdx","key","courseInfo","html","spellCheck","timeItemRenderer","CourseActions","CourseContainer","courseItemRenderer","viewButtonHandler","courseContainer","scrollTop","scrollHeight","konvaFactory","rectFactory","x","y","width","height","fill","konva","Rect","listening","textFactory","text","fontSize","fontFamily","fontStyle","padding","Text","align","verticalAlign","timetableWidth","timetableHeight","margin","dayOfWeeks","times","sessions","theme","courseNameFontSize","lecturerNameFontSize","courseCodeFontSize","labelBG","sideColorBG","oddRowBG","evenRowBG","colorMaps","gridWidth","gridHeight","actualWidth","actualHeight","row1GridHeight","row1ActualHeight","TimetableConfig","KonvaFactory","TimetableBaseDrawer","canvas","stage","Stage","container","size","layer","Layer","rects","texts","forEach","idx","time","beginTime","endTime","rect","draw","heightDeterminer","heightScale","isLectNameEmpty","isCourseCodeEmpty","lectName","yOffset","isCourseNameEmpty","TimetableSlotDrawer","getLayers","destroy","course","xPosition","yPosition","TimetablePreviewer","timetableHTML","createRef","timetableCanvasWindow","closePreviewBtnHandler","downloadBtnHandler","canvasStage","current","remove","tempLink","createElement","download","href","toDataURL","click","ref","MainDiv","closePreviewButtonHandler","src","alt","ReactDOM","render","StrictMode"],"mappings":"4OAceA,EAdK,CAEhBC,WAAa,aACbC,cAAgB,gBAChBC,mBAAqB,qBAErBC,SAAW,WACXC,YAAc,cACdC,iBAAmB,mBAEnBC,eAAgB,iBAChBC,cAAe,iBCFbC,EAAe,CAAC,MAAO,MAAO,MAAO,MAAO,OAC5CC,EAAa,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAcvDC,EAZI,CACfC,wBAAyB,SAACC,GAAiC,IAAtBC,EAAqB,wDACtD,OAAIA,EAAmBL,EAAaI,GAC7BJ,EAAaM,QAASF,IAGjCG,sBAAuB,SAACC,GAA+B,IAAtBH,EAAqB,wDAClD,OAAIA,EAAmBJ,EAAWO,GAC3BP,EAAWK,QAASE,KChBpB,SAASC,EAAaC,EAAaC,GAC9C,IAAMC,EAAmB,CAAE,GAAI,GAAI,GAAI,GAAI,IACnCT,EAAmDD,EAAnDC,wBAAyBI,EAA0BL,EAA1BK,sBAIjC,IAAK,IAAIM,KAAeH,EAAc,CAClC,IAAMI,EAAeJ,EAAaG,GAC5BE,EAAcJ,EAAiBE,GAErC,IAAK,IAAIG,KAAaD,EAClB,GAAkB,eAAdC,EAAJ,CAEA,IAAMC,EAAMd,EAAyBY,EAAYC,GAAWZ,WACtDc,EAAMX,EAAuBQ,EAAYC,GAAWR,SAEpDW,EAAOP,EAAiBK,GAAKC,GAGnC,QAAcE,IAATD,EACD,KAAM,0DACHA,EAAKE,WADF,aACiBF,EAAKG,aADtB,aACuCH,EAAKI,WAD5C,QAEN,oBAFM,UAGHT,EAAaO,WAHV,aAGyBP,EAAaQ,aAHtC,aAGuDR,EAAaS,WAHpE,QAIN,iBAJM,aAKApB,EAAwBc,GAAK,GAL7B,aAKuCV,EAAsBW,GAAK,IAG5EN,EAAiBK,GAAKC,GAAOJ,GAGrC,OAAOF,ECYIY,MAnCf,SAAyBZ,GAOrB,IALA,IAAMa,EAASb,EAAiBc,OAC1BC,EAASf,EAAiBgB,QAAQ,SAACC,EAAKC,GAAN,OAAeC,KAAKF,IAAIC,EAAKJ,OAAQG,KAAM,GAE7EG,EAAe,GAEZf,EAAM,EAAGA,EAAMQ,EAAQR,IAE5B,IADA,IAAIC,EAAM,EACHA,EAAMS,GAAQ,CAIjB,QAAmCP,IAA/BR,EAAiBK,GAAKC,GAAqB,CAQ3C,IAPA,IAAMe,EAAiB,CACnB7B,UAAWa,EACXiB,gBAAiBhB,EACjBiB,cAAejB,EACfkB,UAAWxB,EAAiBK,GAAKC,IAG7BA,EAAM,EAAIS,GAAUf,EAAiBK,GAAKC,EAAM,KAAOe,EAAeG,WAC1ElB,IACAe,EAAeE,cAAgBjB,EAEnCc,EAAaK,KAAKJ,GAEtBf,IAIR,OAAOc,GCJLM,ECtCN,CACIC,aAAc,EAEd7B,YAAa,CACT,EAAK,CACL8B,SAAU,EACVnB,WAAY,qBACZC,aAAc,2BACdC,WAAY,YAEZ,EAAK,CACLiB,SAAU,EACVnB,WAAY,0BACZC,aAAc,iCACdC,WAAY,YAEZ,EAAK,CACLiB,SAAU,EACVnB,WAAY,gBACZC,aAAc,oCACdC,WAAY,YAEZ,EAAK,CACLiB,SAAU,EACVnB,WAAY,kCACZC,aAAc,yBACdC,WAAY,YAEZ,EAAK,CACLiB,SAAU,EACVnB,WAAY,gCACZC,aAAc,4BACdC,WAAY,YAEZ,EAAK,CACLiB,SAAU,EACVnB,WAAY,2CACZC,aAAc,qBACdC,WAAY,YAEZ,EAAK,CACLiB,SAAU,EACVnB,WAAY,8BACZC,aAAc,+BACdC,WAAY,aAGhBZ,gBAAiB,CACb,EAAK,CACL,EAAK,CACD8B,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEb,EAAK,CACDiC,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEb,EAAK,CACDiC,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEbkC,WAAY,GAEZ,EAAK,CACL,EAAK,CACDD,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEb,EAAK,CACDiC,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEb,EAAK,CACDiC,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEb,EAAK,CACDiC,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEbkC,WAAY,GAEZ,EAAK,CACL,EAAK,CACDD,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEb,EAAK,CACDiC,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEb,EAAK,CACDiC,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEb,EAAK,CACDiC,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEbkC,WAAY,GAEZ,EAAK,CACL,EAAK,CACDD,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEb,EAAK,CACDiC,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEb,EAAK,CACDiC,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEbkC,WAAY,GAEZ,EAAK,CACL,EAAK,CACDD,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEb,EAAK,CACDiC,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEbkC,WAAY,GAEZ,EAAK,CACL,EAAK,CACDD,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEb,EAAK,CACDiC,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEbkC,WAAY,GAEZ,EAAK,CACL,EAAK,CACDD,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEb,EAAK,CACDiC,OAAQ,EACRrC,UAAW,MACXI,QAAS,MAEbkC,WAAY,IAKhBC,oBAAqB,CACjBC,eAAe,EACfC,WAAY,ODZpB,IAAMC,EAAgB,SAAEC,GACpB,MAAO,CACHP,SAAUO,IACV1B,WAAY,GACZC,aAAc,GACdC,WAAY,KAKLyB,EAjIf,WAA0D,IAAhCC,EAA+B,uDAAvBX,EAAcY,EAAS,uCAC/CxC,EAAiCuC,EAAjCvC,YAAaC,EAAoBsC,EAApBtC,gBAEnB,OAAQuC,EAAOC,MAEX,KAAK5D,EAAYC,WACb,IAAM4D,EAAgBN,EAAeG,EAAMV,cAU3C,OARA7B,EAAc2C,OAAOC,OAAO,GAAI5C,IACnB0C,EAAcZ,UAAaY,GAExCzC,EAAkB0C,OAAOC,OAAO,GAAI3C,IACnByC,EAAcZ,UAAa,CACxCE,WAAY,GAGTW,OAAOC,OAAO,GAAIL,EAAO,CAAEvC,cAAaC,kBAAiB4B,aAAcU,EAAMV,aAAa,IAErG,KAAKhD,EAAYE,cAAgB,IACrB8D,EAAsBL,EAAOM,QAA7BD,iBAQR,cANA7C,EAAc2C,OAAOC,OAAQ,GAAI5C,IACb6C,UAEpB5C,EAAkB0C,OAAOC,OAAQ,GAAI3C,IACb4C,GAEjBF,OAAOC,OAAO,GAAIL,EAAO,CAAEvC,cAAaC,oBAEnD,KAAKpB,EAAYG,mBAAqB,IAC1B+D,EAAkBP,EAAOM,QAAzBC,cACFC,EAAsBD,EAAcjB,SAK1C,OAHA9B,EAAc2C,OAAOC,OAAO,GAAI5C,IACnBgD,GAAwBD,EAE9BJ,OAAOC,OAAO,GAAIL,EAAO,CAAEvC,gBAItC,KAAKnB,EAAYI,SAAW,IAChBgE,EAAqBT,EAAOM,QAA5BG,iBAEFjB,EAAa/B,EAAgBgD,GAAkBjB,WAE/CkB,EAAiBP,OAAOC,OAAQ,GAAI3C,EAAgBgD,GAAmB,CAAEjB,WAAYA,EAAa,IASxG,OARAkB,EAAgBlB,GAAe,CAC3BD,OAAQC,EACRtC,UAAW,MACXI,QAAS,OAEbG,EAAkB0C,OAAOC,OAAQ,GAAI3C,IACpBgD,GAAqBC,EAE/BP,OAAOC,OAAO,GAAIL,EAAO,CAAEtC,oBAEtC,KAAKpB,EAAYK,YAAc,IAAD,EACmBsD,EAAOM,QAA5CD,EADkB,EAClBA,iBAAkBM,EADA,EACAA,eAEpBD,EAAiBP,OAAOC,OAAQ,GAAI3C,EAAiB4C,IAM3D,cALOK,EAAgBC,IAEvBlD,EAAkB0C,OAAOC,OAAQ,GAAI3C,IACpB4C,GAAqBK,EAE/BP,OAAOC,OAAO,GAAIL,EAAO,CAAEtC,oBAEtC,KAAKpB,EAAYM,iBAAmB,IAAD,EACmCqD,EAAOM,QAAjEE,EADuB,EACvBA,oBAAqBI,EADE,EACFA,kBAAmBC,EADjB,EACiBA,cAE1CH,EAAiBP,OAAOC,OAAQ,GAAI3C,EAAiB+C,IAM3D,OALAE,EAAgBE,GAAsBC,GAEtCpD,EAAkB0C,OAAOC,OAAQ,GAAI3C,IACpB+C,GAAwBE,EAElCP,OAAOC,OAAQ,GAAIL,EAAO,CAAEtC,oBAOvC,KAAKpB,EAAYO,eAEb,IAAIc,EAAmB,KACvB,IACIA,EAAmBH,EAAcwC,EAAMvC,YAAauC,EAAMtC,iBAC5D,MAAOqD,GAEL,OADAC,OAAOC,MAAMF,GACNf,EAEX,IAAMkB,EAA4B3C,EAAeZ,GAC3C+B,EAAsB,CACxBC,eAAe,EACfC,WAAYsB,GAGhB,OAAOd,OAAOC,OAAO,GAAIL,EAAO,CAAEN,wBAGtC,KAAKpD,EAAYQ,cACb,IAAM4C,EAAsBU,OAAOC,OAAO,GAAIL,EAAMN,qBAGpD,OAFAA,EAAoBC,eAAgB,EAE7BS,OAAOC,OAAO,GAAIL,EAAO,CAAEN,wBAGtC,QACI,OAAOM,IElJJmB,EAHDC,YAAarB,EACvBiB,OAAOK,8BAAgCL,OAAOK,gC,6CC0BnCC,EA5BO,CAClBC,UAAW,WACP,MAAO,CACHrB,KAAM5D,EAAYC,aAI1BiF,aAAc,SAAUlB,GACpB,MAAO,CACHJ,KAAM5D,EAAYE,cAClB+D,QAAS,CACLD,sBAMZmB,iBAAkB,SAAUjB,GACxB,MAAO,CACHN,KAAM5D,EAAYG,mBAClB8D,QAAS,CACLC,oBCLDkB,EAhBU,CAErBC,cAAe,WACX,MAAO,CACHzB,KAAM5D,EAAYO,iBAI1B+E,aAAc,WACV,MAAO,CACH1B,KAAM5D,EAAYQ,iB,iBCqBf+E,EA/BK,CAEhBC,QAAS,SAAUpB,GACf,MAAO,CACHR,KAAM5D,EAAYI,SAClB6D,QAAS,CACLG,sBAKZqB,WAAY,SAAUzB,EAAkBM,GACpC,MAAO,CACHV,KAAM5D,EAAYK,YAClB4D,QAAS,CACLD,mBAAkBM,oBAK9BoB,eAAgB,SAAWvB,EAAqBI,EAAmBC,GAC/D,MAAO,CACHZ,KAAM5D,EAAYM,iBAClB2D,QAAS,CACLE,sBAAqBI,oBAAmBC,oBCpBlDmB,E,kDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAEDH,WAAa,EAAKA,WAAWI,KAAhB,gBAClB,EAAKH,eAAiB,EAAKA,eAAeG,KAApB,gBAJP,E,gEAQfC,KAAKC,aAAeC,SAASC,eAAT,oCAAsDH,KAAKF,MAAM3C,SAAjE,YAA8E6C,KAAKF,MAAMM,SAAShD,SAEtH4C,KAAKK,kBAAoBL,KAAKC,aAAaK,SAAS,GACpDN,KAAKO,gBAAkBP,KAAKC,aAAaK,SAAS,K,mCAIxC,IAAD,OACTN,KAAKC,aAAaO,UAAUC,IAAI,YAEhCC,YAAW,WACP,EAAKZ,MAAMH,WAAY,EAAKG,MAAM3C,SAAU,EAAK2C,MAAMM,SAAShD,UACjE,O,uCAIH4C,KAAKF,MAAMF,eAAgBI,KAAKF,MAAM3C,SAAU6C,KAAKF,MAAMM,SAAShD,OAAQ,CACxEA,OAAQ4C,KAAKF,MAAMM,SAAShD,OAC5BrC,UAAWiF,KAAKK,kBAAkBM,MAClCxF,QAAS6E,KAAKO,gBAAgBI,U,+BAQlC,IAAMxD,EAAW6C,KAAKF,MAAM3C,SADvB,EAEkC6C,KAAKF,MAAMM,SAA1ChD,EAFH,EAEGA,OAAQrC,EAFX,EAEWA,UAAWI,EAFtB,EAEsBA,QAG3B,OACI,yBAAKyF,UAAU,4BAA4BC,GAAE,oCAAgC1D,EAAhC,YAA8CC,IAEnF,4BAAQU,KAAK,SAAS8C,UAAU,2CAC5BE,QAAUd,KAAKL,YADnB,KAMA,4BAAQiB,UAAU,uCAAuCD,MAAQ5F,EAAYgG,SAAWf,KAAKJ,gBACzF,4BAAQe,MAAM,OAAd,UACA,4BAAQA,MAAM,OAAd,UACA,4BAAQA,MAAM,OAAd,WACA,4BAAQA,MAAM,OAAd,aACA,4BAAQA,MAAM,OAAd,aAGJ,4BAAQC,UAAU,qCAAqCD,MAAQxF,EAAU4F,SAAWf,KAAKJ,gBACrF,4BAAQe,MAAM,MAAd,wBACA,4BAAQA,MAAM,MAAd,wBACA,4BAAQA,MAAM,MAAd,0BACA,4BAAQA,MAAM,MAAd,0BACA,4BAAQA,MAAM,MAAd,0BACA,4BAAQA,MAAM,MAAd,wBACA,4BAAQA,MAAM,MAAd,wBACA,4BAAQA,MAAM,MAAd,wBACA,4BAAQA,MAAM,MAAd,wBACA,4BAAQA,MAAM,MAAd,wBACA,4BAAQA,MAAM,MAAd,8B,GApEKK,IAAMC,WAwFpBC,kBAAQ,MAVvB,SAA4BC,GACxB,MAAO,CACHxB,WAAY,SAAEzB,EAAkBM,GAApB,OACR2C,EAAU1B,EAAYE,WAAWzB,EAAkBM,KACvDoB,eAAgB,SAAEvB,EAAqBI,EAAmBC,GAA1C,OACZyC,EAAU1B,EAAYG,eAAevB,EAAqBI,EAAmBC,QAK1EwC,CAAkCrB,GChF3CuB,E,kDACF,WAAYtB,GAAQ,IAAD,8BACf,cAAMA,IAEDV,aAAe,EAAKA,aAAaW,KAAlB,gBACpB,EAAKV,iBAAmB,EAAKA,iBAAiBU,KAAtB,gBACxB,EAAKL,QAAU,EAAKA,QAAQK,KAAb,gBALA,E,gEASfC,KAAKqB,eAAiBnB,SAASC,eAAT,sBAAyCH,KAAK7C,WACpE6C,KAAKsB,uBAAyBtB,KAAKqB,eAAef,SAAS,GAAGA,SAE9DN,KAAKuB,eAAiBvB,KAAKsB,uBAAuB,GAClDtB,KAAKwB,iBAAmBxB,KAAKsB,uBAAuB,GACpDtB,KAAKyB,eAAiBzB,KAAKsB,uBAAuB,K,qCAItC,IAAD,OACXtB,KAAKqB,eAAeb,UAAUC,IAAI,YAElCC,YAAW,WACP,EAAKZ,MAAMV,aAAc,EAAKjC,YAC/B,O,yCAIH6C,KAAKF,MAAMT,iBACP,CACIlC,SAAU6C,KAAK7C,SACfnB,WAAYgE,KAAKuB,eAAeG,YAChCzF,aAAc+D,KAAKwB,iBAAiBE,YACpCxF,WAAY8D,KAAKyB,eAAeC,gB,gCAMxC1B,KAAKF,MAAMJ,QAASM,KAAK7C,Y,yCAIT,IAAD,OACf,OAAOa,OAAO2D,KAAM3B,KAAKF,MAAMpE,aAAckG,KAAK,SAACC,GAC/C,GAAiB,eAAZA,EACD,OAAS,kBAAC,EAAD,CAAgBC,IAAKD,EAAS1E,SAAU,EAAKA,SAAUiD,SAAW,EAAKN,MAAMpE,YAAYmG,U,+BAY1G,OALA7B,KAAK+B,WAAa/B,KAAKF,MAAMiC,WAC7B/B,KAAK7C,SAAW6C,KAAK+B,WAAW5E,SAChC6C,KAAKtE,YAAcsE,KAAKF,MAAMpE,YAI1B,yBAAKkF,UAAS,mCAA+BZ,KAAK7C,SAAW,GAA/C,UAA4D0D,GAAE,sBAAkBb,KAAK7C,WAC/F,yBAAKyD,UAAU,qBAGX,kBAAC,IAAD,CAAiBA,UAAU,gCAAgCC,GAAE,wCAAoCb,KAAK7C,UAClG4D,SAAWf,KAAKX,iBAAmB2C,KAAOhC,KAAK+B,WAAW/F,WAAaiG,WAAW,UACtF,kBAAC,IAAD,CAAiBrB,UAAU,kCAAkCC,GAAE,0CAAsCb,KAAK7C,UAC1G4D,SAAWf,KAAKX,iBAAmB2C,KAAOhC,KAAK+B,WAAW9F,aAAegG,WAAW,UACpF,kBAAC,IAAD,CAAiBrB,UAAU,gCAAgCC,GAAE,wCAAoCb,KAAK7C,UAClG4D,SAAWf,KAAKX,iBAAmB2C,KAAOhC,KAAK+B,WAAW7F,WAAa+F,WAAW,UAGtF,yBAAKrB,UAAU,8BACX,4BAAQ9C,KAAK,SAAS8C,UAAU,yCAC5BE,QAAUd,KAAKZ,cACf,uBAAGwB,UAAU,sBAEjB,4BAAQ9C,KAAK,SAAS8C,UAAU,yCAC5BE,QAAUd,KAAKN,SADnB,OAQR,yBAAKkB,UAAU,2BAEf,yBAAKA,UAAU,sBACTZ,KAAKkC,yB,GAvFFlB,IAAMC,WAgHhBC,kBAAQ,MAdvB,SAA4BC,GACxB,MAAO,CACH/B,aAAc,SAAElB,GAAF,OAAwBiD,EAAUgB,EAAc/C,aAAclB,KAC5EmB,iBAAkB,SAAEjB,GAAF,OAAqB+C,EAAUgB,EAAc9C,iBAAkBjB,KACjFsB,QAAS,SAAEpB,GAAF,OAAwB6C,EAAU1B,EAAYC,QAASpB,QAUzD4C,CAAkCE,GCpH3CgB,E,kDACF,WAAYtC,GAAQ,IAAD,8BACf,cAAMA,IAEDX,UAAY,EAAKA,UAAUY,KAAf,gBACjB,EAAKsC,mBAAqB,EAAKA,mBAAmBtC,KAAxB,gBAC1B,EAAKuC,kBAAoB,EAAKA,kBAAkBvC,KAAvB,gBALV,E,gEAUfC,KAAKuC,gBAAkBrC,SAASC,eAAe,wB,kCAKtC,IAAD,OACRH,KAAKF,MAAMX,YAGXuB,YAAW,WACP,EAAK6B,gBAAgBC,UAAY,EAAKD,gBAAgBE,eACvD,M,2CAIe,IAAD,EACwBzC,KAAKF,MAAtCzE,EADS,EACTA,YAAaC,EADJ,EACIA,gBAMrB,OAJmB0C,OAAO2D,KAAMtG,GAAcuG,KAAK,SAACzE,GAChD,OAAS,kBAAC,EAAD,CAAY2E,IAAK3E,EAAU4E,WAAY1G,EAAY8B,GACxDzB,YAAaJ,EAAgB6B,U,0CAMrC6C,KAAKF,MAAMP,kB,+BAQX,OACI,0BAAMqB,UAAU,gBAAgBC,GAAG,iBAE/B,yBAAKD,UAAU,qBAAqBC,GAAG,sBACjCb,KAAKqC,sBAGX,4BAAQvE,KAAK,SAAS8C,UAAU,4BAA4BC,GAAG,4BAC3DC,QAAUd,KAAKb,WADnB,KAKA,4BAAQrB,KAAK,SAAS8C,UAAU,6BAA6BC,GAAG,6BAC5DC,QAAUd,KAAKsC,mBACf,uBAAG1B,UAAU,qB,GA3DHI,IAAMC,WAuFrBC,mBAhBf,SAAyBnC,GACrB,MAAO,CACH1D,YAAa0D,EAAM1D,YACnBC,gBAAiByD,EAAMzD,oBAI/B,SAA4B6F,GACxB,MAAO,CACHhC,UAAW,kBAAMgC,EAAUgB,EAAchD,cACzCI,cAAe,kBAAM4B,EAAU7B,EAAiBC,qBAMzC2B,CAA6CkB,G,iBC9E7CM,EAlBM,CAEjBC,YAAa,SAAEC,EAAGC,EAAGC,EAAOC,EAAQC,GAChC,OAAO,IAAIC,IAAMC,KAAK,CAClBN,IAAGC,IAAGC,QAAOC,SAAQC,OAAMG,WAAW,KAI9CC,YAAa,SAAEC,EAAMT,EAAGC,EAAGC,EAAOC,EAAQO,GAAmE,IAAzDC,EAAwD,uDAA7C,SAAUC,EAAmC,uDAAzB,SAAUC,EAAe,uDAAP,EACjG,OAAO,IAAIR,IAAMS,KAAK,CAClBL,OAAMT,IAAGC,IAAGC,QAAOC,SAAQQ,aAAYD,WAAUE,YAAWC,UAASE,MAAO,SAAUC,cAAe,SACrGZ,KAAM,QAASG,WAAW,MCqCvB,UA5Cf,WACInD,KAAK6D,eAAiB,KACtB7D,KAAK8D,gBAAkB,IACvB9D,KAAK+D,OAAS,EAEd/D,KAAKgE,WAAa,CAAC,SAAU,SAAU,UAAW,YAAa,YAC/DhE,KAAKiE,MAAQ,CAAC,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GACrCjE,KAAKkE,SAAW,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAEnElE,KAAKmE,MAAQ,UACbnE,KAAKoE,mBAAqB,GAC1BpE,KAAKqE,qBAAuB,GAC5BrE,KAAKsE,mBAAqB,GAE1BtE,KAAKuE,QAAU,UACfvE,KAAKwE,YAAc,UACnBxE,KAAKyE,SAAW,UAChBzE,KAAK0E,UAAY,UAEjB1E,KAAK2E,UAAY,CACb,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAIJ3E,KAAK4E,UAAY5E,KAAK6D,eAAiB,GACvC7D,KAAK6E,WAAa7E,KAAK8D,gBAAkB,EACzC9D,KAAK8E,YAAc9E,KAAK4E,UAAY,EAAI5E,KAAK+D,OAC7C/D,KAAK+E,aAAe/E,KAAK6E,WAAa,EAAI7E,KAAK+D,OAE/C/D,KAAKgF,eAAiBhF,KAAK6E,WAAa,EACxC7E,KAAKiF,iBAAmBjF,KAAKgF,eAA+B,EAAdhF,KAAK+D,QCnCnDF,EAmBAqB,EAnBArB,eACAC,EAkBAoB,EAlBApB,gBACAC,EAiBAmB,EAjBAnB,OAEAC,EAeAkB,EAfAlB,WACAC,EAcAiB,EAdAjB,MACAC,EAaAgB,EAbAhB,SAEAU,EAWAM,EAXAN,UACAC,EAUAK,EAVAL,WACAC,EASAI,EATAJ,YACAC,EAQAG,EARAH,aACAC,EAOAE,EAPAF,eACAC,EAMAC,EANAD,iBAEAV,EAIAW,EAJAX,QACAC,EAGAU,EAHAV,YACAC,EAEAS,EAFAT,SACAC,GACAQ,EADAR,UAGI/B,GAA6BwC,EAA7BxC,YAAaS,GAAgB+B,EAAhB/B,YAqFNgC,OAjFf,SAA8BC,GAE1B,IAAMC,EAAQ,IAAIrC,IAAMsC,MAAM,CAC1BC,UAAWH,EAAOxE,KAEtByE,EAAMG,KAAM,CAAE3C,MAAOe,EAAgBd,OAAQe,IAC7CwB,EAAME,YAAYhF,UAAUC,IAAI,iCAEhC,IAAMiF,EAAQ,IAAIzC,IAAM0C,MACxBD,EAAMD,KAAM,CAAE3C,MAAOe,EAAgBd,OAAQe,IAE7C,IAAM8B,EAAQ,GACRC,EAAQ,GAkEd,OA/DAD,EAAM5I,KAAM2F,GAAY,EAAE,EAAGkB,EAAgBC,EAAiB,UAG9D8B,EAAM5I,KAAM2F,GAAYoB,EAAQA,EAAQe,EAAaG,EAAkBV,IACvEqB,EAAM5I,KAAM2F,GAAYoB,EAAQiB,EAAiBjB,EAAQe,EAAaG,EAAkBV,IACxFsB,EAAM7I,KAAMoG,GAAY,OAAQW,EAAQA,EAAQe,EAAaG,EAAkB,KAC/EY,EAAM7I,KAAMoG,GAAY,UAAWW,EAAQiB,EAAiBjB,EAAQe,EAAaG,EAAkB,KAInGjB,EAAW8B,SAAS,SAAC/K,EAAWgL,GAC5BH,EAAM5I,KAAM2F,GAAYoB,EAASc,GAAeA,EAAakB,EAAMhC,GAC/De,EAAaC,EAAcP,IAC/BqB,EAAM7I,KAAMoG,GAAYrI,EAAWgJ,EAASc,GAAeA,EAAakB,EAAMhC,GAC1Ee,EAAaC,EAAc,GAAI,SAAU,YAIjDd,EAAM6B,SAAS,SAACE,EAAMD,GAClB,IAAME,EAAS,UAAMD,EAAN,eAAkBA,GAAQ,GAAc,KAATA,EAAa,MAAM,OAC3DE,EAAO,UAAMF,EAAN,eAAkBA,GAAQ,GAAc,KAATA,EAAa,MAAM,OAE/DJ,EAAM5I,KAAM2F,GAAciC,GAAcA,EAAYmB,EAAMhC,GAASA,EAC/De,EAAaG,EAAkBT,IACnCqB,EAAM7I,KAAMoG,GAAa6C,EAAYrB,GAAcA,EAAYmB,EAAMhC,GAASA,EAC1Ee,EAAaG,EAAmB,EAAG,KACvCY,EAAM7I,KAAMoG,GAAa8C,EAAUtB,GAAcA,EAAYmB,EAAMhC,GAASA,EAASkB,EAAmB,EACpGH,EAAaG,EAAmB,EAAG,QAI3Cf,EAAS4B,SAAS,SAAC3K,EAAS4K,GACxBH,EAAM5I,KAAM2F,GAAciC,GAAcA,EAAYmB,EAAMhC,GAASiB,EAAiBjB,EAChFe,EAAaG,EAAkBT,IACnCqB,EAAM7I,KAAMoG,GAAajI,EAAUyJ,GAAcA,EAAYmB,EAAMhC,GAASiB,EAAiBjB,EACzFe,EAAaG,EAAkB,QAIvCf,EAAS4B,SAAS,SAAC7B,EAAO8B,GACtBH,EAAM5I,KAAM2F,GAAciC,GAAcA,EAAYmB,EAAMhC,GAASc,EAAad,EAC5Ee,EAAaC,EAAcN,IAC/BmB,EAAM5I,KAAM2F,GAAciC,GAAcA,EAAYmB,EAAMhC,GAAsB,EAAbc,EAAiBd,EAChFe,EAAaC,EAAcN,IAC/BmB,EAAM5I,KAAM2F,GAAciC,GAAcA,EAAYmB,EAAMhC,GAAsB,EAAbc,EAAiBd,EAChFe,EAAaC,EAAcN,OAInCP,EAAS4B,SAAS,SAAC7B,EAAO8B,GACtBH,EAAM5I,KAAM2F,GAAciC,GAAcA,EAAYmB,EAAMhC,GAAsB,EAAbc,EAAiBd,EAChFe,EAAaC,EAAcL,KAC/BkB,EAAM5I,KAAM2F,GAAciC,GAAcA,EAAYmB,EAAMhC,GAAsB,EAAbc,EAAiBd,EAChFe,EAAaC,EAAcL,QAInCkB,EAAME,SAAS,SAACK,GAAD,OAAUT,EAAMjF,IAAI0F,MACnCN,EAAMC,SAAS,SAACzC,GAAD,OAAUqC,EAAMjF,IAAI4C,MACnCiC,EAAM7E,IAAIiF,GAEVA,EAAMU,OAECd,GCzGPzB,GAyBAqB,EAzBArB,eACAC,GAwBAoB,EAxBApB,gBACAC,GAuBAmB,EAvBAnB,OAOAK,IAgBAc,EArBAlB,WAqBAkB,EApBAjB,MAoBAiB,EAnBAhB,SAmBAgB,EAjBAf,MAiBAe,EAhBAd,oBACAC,GAeAa,EAfAb,qBACAC,GAcAY,EAdAZ,mBAEAM,GAYAM,EAZAN,UACAC,GAWAK,EAXAL,WACAC,GAUAI,EAVAJ,YACAC,GASAG,EATAH,aAQAJ,IACAO,EARAF,eAQAE,EAPAD,iBAOAC,EALAX,QAKAW,EAJAV,YAIAU,EAHAT,SAGAS,EAFAR,UAEAQ,EADAP,WAGIhC,GAA6BwC,EAA7BxC,YAAaS,GAAgB+B,EAAhB/B,YAoGrB,IAAMiD,GAAmB,CACrBrK,WAAY,CACRsK,YAAa,SAAUC,EAAiBC,GACpC,OAAID,GAAmBC,EAA0B,EAC7CD,GAAmBC,EAA0B,IAC1C,KAGfC,SAAU,CACNC,QAAS,SAAUC,EAAmBH,GAClC,OAAIG,EAA0B,EAC1BH,EAA0B,IACvB,IAEXF,YAAa,SAAUK,EAAmBH,GACtC,OAAIG,GAAqBH,EAA0B,EAC/CA,IAAsBG,EAA0B,IAC7C,KAGfzK,WAAY,CACRwK,QAAS,SAAUC,EAAmBJ,GAClC,OAAII,GAAqBJ,EAAwB,EAC7CI,EAA0B,GACvB,KAEXL,YAAa,SAAUK,EAAmBH,GACtC,OAAIG,GAAqBH,EAA0B,EAC/CG,EAA0B,GACvB,OAMJC,GAtHf,SAA8BvB,EAAS7H,GAG/B6H,EAAOwB,YAAY,IACnBxB,EAAOwB,YAAY,GAAGC,UAG1B,IAAMpB,EAAQ,IAAIzC,IAAM0C,MAAM,CAC1B7C,MAAOe,GACPd,OAAQe,KAGN8B,EAAQ,GACRC,EAAQ,GAEdrI,EAAWA,WAAWsI,SAAS,SAAAiB,GAAW,IAC9BhM,EAA8CgM,EAA9ChM,UAAW8B,EAAmCkK,EAAnClK,gBAAiBC,EAAkBiK,EAAlBjK,cADC,EAEsBiK,EAAOhK,UAA1Df,EAF6B,EAE7BA,WAAYC,EAFiB,EAEjBA,aAAcC,EAFG,EAEHA,WAAYiB,EAFT,EAESA,SAExCwJ,EAA0C,IAAtB3K,EAAWK,OAC/BkK,EAA0C,IAAxBtK,EAAaI,OAC/BmK,EAA0C,IAAtBtK,EAAWG,OAE/B2K,EAAYpC,GAAY/H,EAAkB+H,GAAYb,GACtDkD,EAAYpC,GAAa9J,EAAY8J,GAAad,GAClDjB,GAASgC,GAAcf,KAAWjH,EAAgBD,EAAkB,GAG1E+I,EAAM5I,KAAM2F,GACRqE,EACAC,EACAnE,EACAiC,GACAJ,GAAUxH,KAGTwJ,GACDd,EAAM7I,KAAMoG,GACRpH,EACAgL,EACAC,EACAnE,EACAiC,GAAesB,GAAiBrK,WAAWsK,YAAaC,EAAiBC,GACzEpC,GACA,SACA,SACA,IAGHmC,GACDV,EAAM7I,KAAMoG,GACRnH,EACA+K,EACAC,EAAYlC,GAAesB,GAAiBI,SAASC,QAASC,EAAmBH,GACjF1D,EACAiC,GAAesB,GAAiBI,SAASH,YAAaK,EAAmBH,GACzEnC,GACA,SACA,SACA,IAGHmC,GACDX,EAAM7I,KAAMoG,GACRlH,EACA8K,EACAC,EAAYlC,GAAesB,GAAiBnK,WAAWwK,QAASC,EAAmBJ,GACnFzD,EACAiC,GAAesB,GAAiBnK,WAAWoK,YAAaK,EAAmBJ,GAC3EjC,GACA,SACA,OACA,OAKZsB,EAAME,SAAS,SAAAK,GAAI,OAAIT,EAAMjF,IAAI0F,MACjCN,EAAMC,SAAS,SAAAzC,GAAI,OAAIqC,EAAMjF,IAAI4C,MACjCgC,EAAO5E,IAAIiF,ICrHTwB,G,kDACF,WAAYpH,GAAQ,IAAD,8BACf,cAAMA,IAEDqH,cAAgBnG,IAAMoG,YAC3B,EAAKC,sBAAwBrG,IAAMoG,YAEnC,EAAKE,uBAAyB,EAAKA,uBAAuBvH,KAA5B,gBAC9B,EAAKwH,mBAAqB,EAAKA,mBAAmBxH,KAAxB,gBAPX,E,gEAWfC,KAAKwH,YAAcpC,GAAqBpF,KAAKqH,sBAAsBI,W,2CAInEb,GAAqB5G,KAAKwH,YAAaxH,KAAKF,MAAMxC,uB,+CAG5B,IAAD,OACrB0C,KAAKmH,cAAcM,QAAQjH,UAAUC,IAAI,iBAEzCC,YAAW,WACP,EAAKyG,cAAcM,QAAQjH,UAAUkH,OAAO,iBAC5C,EAAK5H,MAAMN,iBACZ,O,2CAIH,IAAMmI,EAAWzH,SAAS0H,cAAc,KACxCD,EAASE,SAAW,YACpBF,EAASG,KAAO9H,KAAKwH,YAAYO,YACjCJ,EAASK,QACTL,EAASD,W,+BAIH,IACCnK,EAAiByC,KAAKF,MAAMxC,oBAA5BC,cAEP,OACI,yBAAKqD,UAAS,oBAAerD,EAAe,GAAG,UAAa0K,IAAMjI,KAAKmH,eACnE,yBAAKvG,UAAU,yBAGf,yBAAKA,UAAU,uBAAuBC,GAAG,wBACrC,4BAAQ/C,KAAK,SAAS8C,UAAU,iCAAiCC,GAAG,iCAChEC,QAASd,KAAKsH,wBACd,uBAAG1G,UAAU,kBAGjB,yBAAKA,UAAU,gCAAgCC,GAAG,gCAC5CoH,IAAMjI,KAAKqH,wBAGjB,4BAAQvJ,KAAK,SAAS8C,UAAU,oCAAoCC,GAAG,oCACnEC,QAASd,KAAKuH,oBADlB,yB,GAvDavG,IAAMC,WAoFxBC,oBAff,SAA0BnC,GACtB,MAAO,CACHzB,oBAAqByB,EAAMzB,wBAMnC,SAA6B6D,GACzB,MAAO,CACH3B,aAAc,kBAAK2B,EAAU7B,EAAiBE,oBAKvC0B,CAA6CgG,ICnD7CgB,G,kDArCX,WAAYpI,GAAQ,IAAD,8BACf,cAAMA,IAEDqI,0BAA4B,EAAKA,0BAA0BpI,KAA/B,gBAHlB,E,wEAQfC,KAAKF,MAAMN,iB,+BAOX,OACI,yBAAKoB,UAAU,YAAYC,GAAG,aAC1B,4BAAQD,UAAU,SAASC,GAAG,UAC1B,yBAAKD,UAAU,eAAeC,GAAG,eAC7BuH,IAAI,mEAAmEC,IAAI,gBAC/E,wBAAIzH,UAAU,gBAAgBC,GAAG,iBAAjC,4BAGJ,kBAAC,EAAD,MAEA,kBAAC,GAAD,MAEA,4BAAQD,UAAU,SAASC,GAAG,UAC1B,wBAAID,UAAU,gBAAd,uD,GA7BEI,IAAMC,WCE5BqH,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAUzJ,MAAOA,GACjB,kBAAC,GAAD,QAGFmB,SAASC,eAAe,W","file":"static/js/main.c9e2bea1.chunk.js","sourcesContent":["const ActionTypes = {\r\n\r\n    ADD_COURSE : 'ADD_COURSE',\r\n    DELETE_COURSE : 'DELETE_COURSE',\r\n    CHANGE_COURSE_INFO : 'CHANGE_COURSE_INFO',\r\n    \r\n    ADD_TIME : 'ADD_TIME',\r\n    DELETE_TIME : 'DELETE_TIME',\r\n    CHANGE_TIME_INFO : 'CHANGE_TIME_INFO',\r\n\r\n    VIEW_TIMETABLE: 'VIEW_TIMETABLE',\r\n    CLOSE_PREVIEW: 'CLOSE_PREVIEW'\r\n}\r\n\r\nexport default ActionTypes;","\r\n\r\n/* =================================================================================================================\r\n    Convert from the dayOfWeek or the sessions to their respective row and column index in a 2D array.\r\n\r\n    each function contains a reverseMap default parameter which if set to true, will map from index to the dayOfWeek\r\n    or session.\r\n================================================================================================================= */\r\n\r\nconst dayOfWeekArr = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu'];\r\nconst sessionArr = ['02','03','04','05','06','07','08','09','10','11','12'];\r\n\r\nconst Converters = {\r\n    dayOfWeekIndexConverter: (dayOfWeek, reverseMap=false) => {\r\n        if (reverseMap) return dayOfWeekArr[dayOfWeek];\r\n        return dayOfWeekArr.indexOf( dayOfWeek );\r\n    },\r\n    \r\n    sessionIndexConverter: (session, reverseMap=false) => {\r\n        if (reverseMap) return sessionArr[session];\r\n        return sessionArr.indexOf( session );\r\n    }\r\n};\r\n\r\nexport default Converters;\r\n\r\n","import Converters from './Converters';\r\n\r\n\r\n\r\nexport default function clashChecker(courseItems, courseTimeItems) {\r\n    const virtualTimetable = [ [], [], [], [], [] ];\r\n    const { dayOfWeekIndexConverter, sessionIndexConverter } = Converters;\r\n\r\n    //  Loop through each timeItems in each courseItems. Put the courseItem into the virtualTimeTable in the\r\n    //  correct slot. If there already exists a item before inserting, a timetable clash occurred.\r\n    for (let courseIndex in courseItems ) {\r\n        const courseObject = courseItems[ courseIndex ];\r\n        const courseTimes = courseTimeItems[ courseIndex ];\r\n\r\n        for (let timeIndex in courseTimes) {\r\n            if (timeIndex === 'nextTimeID') continue;\r\n\r\n            const row = dayOfWeekIndexConverter( courseTimes[timeIndex].dayOfWeek );\r\n            const col = sessionIndexConverter( courseTimes[timeIndex].session );\r\n\r\n            const slot = virtualTimetable[row][col];\r\n\r\n            //  Clash occurred\r\n            if ( slot !== undefined ) {\r\n                throw 'Clashing Timetable Detected!\\nThe course:\\n\\n' +\r\n                `${slot.courseName}, ${slot.lecturerName}, ${slot.courseCode}\\n\\n` +\r\n                'Clashes with:\\n\\n' +\r\n                `${courseObject.courseName}, ${courseObject.lecturerName}, ${courseObject.courseCode}\\n\\n` +\r\n                'At timeslot:\\n' +\r\n                `   ${dayOfWeekIndexConverter(row, true)}, ${sessionIndexConverter(col, true)}`;\r\n            }\r\n\r\n            virtualTimetable[row][col] = courseObject;\r\n        }\r\n    }\r\n    return virtualTimetable;            //  Upon validated, return the virtualTimetable 2D array for flattening\r\n\r\n}","\r\n/* =================================================================================================================\r\nBasically takes in the virtual timetable (2D array timetable, each grid may contain a Course JSON Object),\r\nflatten them into one single array of JSON object consisting of information of courses, such that\r\n    >   Neighboring same courses are combined into one entity\r\n    >   No more 2D array. Its 1D array consisting of objects which contains information\r\n        -   dayOfWeek\r\n        -   starting session\r\n        -   ending session\r\n        -   courseObject (Contains courseName, lecturerName, courseCode)\r\n================================================================================================================= */\r\n\r\nfunction timeFlattener ( virtualTimetable ) {\r\n\r\n    const rowLen = virtualTimetable.length;\r\n    const colLen = virtualTimetable.reduce( (max, curr) => Math.max(curr.length, max), 0 );\r\n\r\n    const resultingArr = [];\r\n\r\n    for (let row = 0; row < rowLen; row ++ ) {\r\n        let col = 0;\r\n        while (col < colLen) {\r\n\r\n            //  A course is present in the current position. Create a timetableEntry object specifically for it,\r\n            //  and keep checking if the next grid is also same course. If yes, then extend it.\r\n            if (virtualTimetable[row][col] !== undefined ) {\r\n                const timetableEntry = {\r\n                    dayOfWeek: row,\r\n                    startingSession: col,\r\n                    endingSession: col,\r\n                    courseObj: virtualTimetable[row][col]\r\n                };\r\n                //  Check for next grid if it is same\r\n                while ( col + 1 < colLen && virtualTimetable[row][col + 1] === timetableEntry.courseObj ) {\r\n                    col ++;\r\n                    timetableEntry.endingSession = col;\r\n                }\r\n                resultingArr.push(timetableEntry);\r\n            }\r\n            col++;\r\n        }\r\n    }\r\n\r\n    return resultingArr;\r\n}\r\n\r\n\r\nexport default timeFlattener;","\r\nimport ActionTypes from '../Actions/ActionTypes';\r\n\r\n//  Timetable Validator and Flattener\r\nimport clashChecker from '../../LogicUtils/ClashChecker';\r\nimport timeFlattener from '../../LogicUtils/TimeFlattener';\r\n\r\n//  Testcases\r\nimport timetable1 from '../../Testcases/timetable1';\r\nimport emptyTimetable from '../../Testcases/emptyTimetable';\r\n\r\n\r\n/* ==================================================================================================================\r\nThe state basically looks like this:\r\n\r\ncourseItems - An object, which the key is the courseID, mapping to another object representing the course itself.\r\n              The course object contains the following:\r\n              {\r\n                  courseID:                     the ID of itself\r\n                  courseName:                   the name of the course\r\n                  lecturerName:                 the name of the lecturer\r\n                  courseCode:                   the code of the course\r\n              }\r\n\r\ncourseTimeItems - Shall be in sync with the courseItems. It is also an object mapping from courseID to another object\r\n                  representing the course times. The course times object maps from timeID to object of individual time\r\n                  which contains the following:\r\n                  {\r\n                      timeID:                   the ID of this time in this course\r\n                      dayOfWeek:                the day of week of this course\r\n                      session:                  the session in which the course is held\r\n                  }\r\n================================================================================================================= */\r\n\r\n\r\n\r\n//==============================\r\n//  Initial State\r\n//==============================\r\nconst initialState = timetable1;\r\n\r\n\r\n\r\n\r\nfunction timetableReducer(state = initialState, action ) {\r\n    let { courseItems, courseTimeItems } = state;\r\n\r\n    switch (action.type) {\r\n        \r\n        case ActionTypes.ADD_COURSE: {\r\n            const newCourseItem = courseFactory( state.nextCourseID );\r\n\r\n            courseItems = Object.assign({}, courseItems );\r\n            courseItems[ newCourseItem.courseID ] = newCourseItem;\r\n\r\n            courseTimeItems = Object.assign({}, courseTimeItems );\r\n            courseTimeItems[ newCourseItem.courseID ] = { \r\n                nextTimeID: 0 \r\n            };\r\n\r\n            return Object.assign({}, state, { courseItems, courseTimeItems, nextCourseID: state.nextCourseID+1 } );\r\n        }\r\n        case ActionTypes.DELETE_COURSE: {\r\n            const { courseIndexToDel }  = action.payload;\r\n\r\n            courseItems = Object.assign( {}, courseItems );\r\n            delete courseItems[ courseIndexToDel ];\r\n\r\n            courseTimeItems = Object.assign( {}, courseTimeItems );\r\n            delete courseTimeItems[ courseIndexToDel ];\r\n\r\n            return Object.assign({}, state, { courseItems, courseTimeItems } );\r\n        }\r\n        case ActionTypes.CHANGE_COURSE_INFO: {\r\n            const { newInfoValues } = action.payload;\r\n            const courseIndexToChange = newInfoValues.courseID;\r\n\r\n            courseItems = Object.assign({}, courseItems);\r\n            courseItems[ courseIndexToChange ] = newInfoValues;\r\n\r\n            return Object.assign({}, state, { courseItems } );\r\n        }\r\n\r\n\r\n        case ActionTypes.ADD_TIME: {\r\n            const { courseIndexToAdd } = action.payload;\r\n\r\n            const nextTimeID = courseTimeItems[courseIndexToAdd].nextTimeID;\r\n\r\n            const newCourseTimes = Object.assign( {}, courseTimeItems[courseIndexToAdd], { nextTimeID: nextTimeID + 1 }  );\r\n            newCourseTimes[ nextTimeID ] = {\r\n                timeID: nextTimeID,\r\n                dayOfWeek: 'Sun',\r\n                session: '02'\r\n            };\r\n            courseTimeItems = Object.assign( {}, courseTimeItems );\r\n            courseTimeItems[ courseIndexToAdd ] = newCourseTimes;\r\n            \r\n            return Object.assign({}, state, { courseTimeItems } );\r\n        }\r\n        case ActionTypes.DELETE_TIME: {\r\n            const { courseIndexToDel, timeIndexToDel } = action.payload;\r\n\r\n            const newCourseTimes = Object.assign( {}, courseTimeItems[ courseIndexToDel ] );\r\n            delete newCourseTimes[ timeIndexToDel ];\r\n\r\n            courseTimeItems = Object.assign( {}, courseTimeItems );\r\n            courseTimeItems[ courseIndexToDel ] = newCourseTimes;\r\n\r\n            return Object.assign({}, state, { courseTimeItems } );\r\n        }\r\n        case ActionTypes.CHANGE_TIME_INFO: {\r\n            const { courseIndexToChange, timeIndexToChange, newTimeValues } = action.payload;    \r\n            \r\n            const newCourseTimes = Object.assign( {}, courseTimeItems[ courseIndexToChange ] );\r\n            newCourseTimes[ timeIndexToChange ] = newTimeValues;\r\n\r\n            courseTimeItems = Object.assign( {}, courseTimeItems );\r\n            courseTimeItems[ courseIndexToChange ] = newCourseTimes;\r\n\r\n            return Object.assign( {}, state, { courseTimeItems } );\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        case ActionTypes.VIEW_TIMETABLE: {\r\n            // Check for clashing time slots\r\n            let virtualTimetable = null;\r\n            try {\r\n                virtualTimetable = clashChecker( state.courseItems, state.courseTimeItems );\r\n            } catch (e) {\r\n                window.alert(e);    //  If found the clashing timeslot, then alert the user. Don't change state\r\n                return state;\r\n            }\r\n            const flattenedVirtualTimetable = timeFlattener( virtualTimetable );\r\n            const timetableRenderData = {\r\n                isPreviewOpen: true,\r\n                renderData: flattenedVirtualTimetable\r\n            };\r\n\r\n            return Object.assign({}, state, { timetableRenderData } );\r\n        }\r\n\r\n        case ActionTypes.CLOSE_PREVIEW: {\r\n            const timetableRenderData = Object.assign({}, state.timetableRenderData);\r\n            timetableRenderData.isPreviewOpen = false;\r\n\r\n            return Object.assign({}, state, { timetableRenderData} );\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n/* ===============================\r\n    Creates an Empty Course\r\n================================ */\r\nconst courseFactory = ( nextID ) => {\r\n    return {\r\n        courseID: nextID ++,\r\n        courseName: '',\r\n        lecturerName: '',\r\n        courseCode: ''\r\n    };\r\n};\r\n\r\n\r\nexport default timetableReducer;\r\n","const timetable1 = \r\n{\r\n    nextCourseID: 7,\r\n\r\n    courseItems: {\r\n        '0': {\r\n        courseID: 0,\r\n        courseName: 'Discrete Structure',\r\n        lecturerName: 'Dr. Nor Azizah binti Ali',\r\n        courseCode: 'SECI1013'\r\n        },\r\n        '1': {\r\n        courseID: 1,\r\n        courseName: 'Programming Technique I',\r\n        lecturerName: 'Dr. Adila Firdaus binti Arbain',\r\n        courseCode: 'SECJ1013'\r\n        },\r\n        '2': {\r\n        courseID: 2,\r\n        courseName: 'Digital Logic',\r\n        lecturerName: 'Mr. Firoz bin Yusuf Patel Dawoodi',\r\n        courseCode: 'SECR1013'\r\n        },\r\n        '3': {\r\n        courseID: 3,\r\n        courseName: 'Technology & Information System',\r\n        lecturerName: 'Dr. Haswadi bin Hassan',\r\n        courseCode: 'SECP1513'\r\n        },\r\n        '4': {\r\n        courseID: 4,\r\n        courseName: 'Philosophy and Current Issues',\r\n        lecturerName: 'Dr. Nurazmalail bin Marni',\r\n        courseCode: 'UHIS1022'\r\n        },\r\n        '5': {\r\n        courseID: 5,\r\n        courseName: 'Appreciation of Ethics and Civilisations',\r\n        lecturerName: 'Mr. Husain Mahmood',\r\n        courseCode: 'UHMS1182'\r\n        },\r\n        '6': {\r\n        courseID: 6,\r\n        courseName: 'Graduate Success Attributes',\r\n        lecturerName: 'Dr. Mohamad Razib bin Othman',\r\n        courseCode: 'UHMT1012'\r\n        }\r\n    },\r\n    courseTimeItems: {\r\n        '0': {\r\n        '0': {\r\n            timeID: 0,\r\n            dayOfWeek: 'Sun',\r\n            session: '08'\r\n        },\r\n        '1': {\r\n            timeID: 1,\r\n            dayOfWeek: 'Sun',\r\n            session: '09'\r\n        },\r\n        '2': {\r\n            timeID: 2,\r\n            dayOfWeek: 'Wed',\r\n            session: '03'\r\n        },\r\n        nextTimeID: 3\r\n        },\r\n        '1': {\r\n        '0': {\r\n            timeID: 0,\r\n            dayOfWeek: 'Mon',\r\n            session: '05'\r\n        },\r\n        '1': {\r\n            timeID: 1,\r\n            dayOfWeek: 'Mon',\r\n            session: '06'\r\n        },\r\n        '2': {\r\n            timeID: 2,\r\n            dayOfWeek: 'Thu',\r\n            session: '05'\r\n        },\r\n        '3': {\r\n            timeID: 3,\r\n            dayOfWeek: 'Thu',\r\n            session: '06'\r\n        },\r\n        nextTimeID: 4\r\n        },\r\n        '2': {\r\n        '0': {\r\n            timeID: 0,\r\n            dayOfWeek: 'Mon',\r\n            session: '08'\r\n        },\r\n        '1': {\r\n            timeID: 1,\r\n            dayOfWeek: 'Mon',\r\n            session: '09'\r\n        },\r\n        '2': {\r\n            timeID: 2,\r\n            dayOfWeek: 'Wed',\r\n            session: '08'\r\n        },\r\n        '3': {\r\n            timeID: 3,\r\n            dayOfWeek: 'Wed',\r\n            session: '09'\r\n        },\r\n        nextTimeID: 4\r\n        },\r\n        '3': {\r\n        '0': {\r\n            timeID: 0,\r\n            dayOfWeek: 'Tue',\r\n            session: '02'\r\n        },\r\n        '1': {\r\n            timeID: 1,\r\n            dayOfWeek: 'Tue',\r\n            session: '03'\r\n        },\r\n        '2': {\r\n            timeID: 2,\r\n            dayOfWeek: 'Tue',\r\n            session: '04'\r\n        },\r\n        nextTimeID: 3\r\n        },\r\n        '4': {\r\n        '0': {\r\n            timeID: 0,\r\n            dayOfWeek: 'Thu',\r\n            session: '02'\r\n        },\r\n        '1': {\r\n            timeID: 1,\r\n            dayOfWeek: 'Thu',\r\n            session: '03'\r\n        },\r\n        nextTimeID: 2\r\n        },\r\n        '5': {\r\n        '0': {\r\n            timeID: 0,\r\n            dayOfWeek: 'Tue',\r\n            session: '05'\r\n        },\r\n        '1': {\r\n            timeID: 1,\r\n            dayOfWeek: 'Tue',\r\n            session: '06'\r\n        },\r\n        nextTimeID: 2\r\n        },\r\n        '6': {\r\n        '0': {\r\n            timeID: 0,\r\n            dayOfWeek: 'Thu',\r\n            session: '08'\r\n        },\r\n        '1': {\r\n            timeID: 1,\r\n            dayOfWeek: 'Thu',\r\n            session: '09'\r\n        },\r\n        nextTimeID: 2\r\n        }\r\n    },\r\n\r\n\r\n    timetableRenderData: {\r\n        isPreviewOpen: false,\r\n        renderData: null\r\n    }\r\n};\r\n\r\nexport default timetable1;","import { createStore } from 'redux'\r\n\r\nimport timetableReducer from '../Reducers/TimetableReducer';\r\n\r\nconst store = createStore( timetableReducer,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__() );\r\n\r\nexport default store;","import ActionTypes from './ActionTypes';\r\n\r\n\r\nconst courseActions = {\r\n    addCourse: function () {\r\n        return {\r\n            type: ActionTypes.ADD_COURSE\r\n        };\r\n    },\r\n    \r\n    deleteCourse: function( courseIndexToDel ) {\r\n        return {\r\n            type: ActionTypes.DELETE_COURSE,\r\n            payload: {\r\n                courseIndexToDel\r\n            }\r\n        };\r\n    },\r\n\r\n    //  Change Course Name, Lecturer Name, or Course Code\r\n    changeCourseInfo: function( newInfoValues ) {\r\n        return {\r\n            type: ActionTypes.CHANGE_COURSE_INFO,\r\n            payload: {\r\n                newInfoValues\r\n            }\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport default courseActions;\r\n","import ActionTypes from './ActionTypes';\r\n\r\n\r\nconst TimetableActions = {\r\n\r\n    viewTimetable: function() {\r\n        return {\r\n            type: ActionTypes.VIEW_TIMETABLE\r\n        };\r\n    },\r\n\r\n    closePreview: function() {\r\n        return {\r\n            type: ActionTypes.CLOSE_PREVIEW\r\n        };\r\n    }\r\n\r\n};\r\n\r\nexport default TimetableActions;","import ActionTypes from './ActionTypes';\r\n\r\n\r\nconst TimeActions = {\r\n\r\n    addTime: function( courseIndexToAdd ) {\r\n        return {\r\n            type: ActionTypes.ADD_TIME,\r\n            payload: {\r\n                courseIndexToAdd\r\n            }\r\n        };\r\n    },\r\n\r\n    deleteTime: function( courseIndexToDel, timeIndexToDel ) {\r\n        return {\r\n            type: ActionTypes.DELETE_TIME,\r\n            payload: {\r\n                courseIndexToDel, timeIndexToDel\r\n            }\r\n        };\r\n    },\r\n\r\n    changeTimeInfo: function ( courseIndexToChange, timeIndexToChange, newTimeValues ) {\r\n        return {\r\n            type: ActionTypes.CHANGE_TIME_INFO,\r\n            payload: {\r\n                courseIndexToChange, timeIndexToChange, newTimeValues \r\n            }\r\n        };\r\n    }\r\n\r\n};\r\n\r\nexport default TimeActions;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\n//  Redux Action Creator\r\nimport TimeActions from '../Redux/Actions/TimeActions';\r\n\r\n\r\nclass CourseTimeItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.deleteTime = this.deleteTime.bind(this);\r\n        this.changeTimeInfo = this.changeTimeInfo.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.timeItemHTML = document.getElementById(`course-item__times__entry-${ this.props.courseID}-${ this.props.timeInfo.timeID }`);\r\n\r\n        this.timeDayOfWeekHTML = this.timeItemHTML.children[1];\r\n        this.timeSessionHTML = this.timeItemHTML.children[2];\r\n    }\r\n\r\n\r\n    deleteTime() {\r\n        this.timeItemHTML.classList.add('fade-out');\r\n\r\n        setTimeout(() => {\r\n            this.props.deleteTime( this.props.courseID, this.props.timeInfo.timeID );\r\n        }, 500);\r\n    }\r\n\r\n    changeTimeInfo() {\r\n        this.props.changeTimeInfo( this.props.courseID, this.props.timeInfo.timeID, {\r\n            timeID: this.props.timeInfo.timeID,\r\n            dayOfWeek: this.timeDayOfWeekHTML.value,\r\n            session: this.timeSessionHTML.value\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        const courseID = this.props.courseID;\r\n        const { timeID, dayOfWeek, session } = this.props.timeInfo;\r\n\r\n        //=================================== JSX ==========================================\r\n        return (\r\n            <div className='course-item__times__entry' id={`course-item__times__entry-${ courseID }-${ timeID }`}>\r\n\r\n                    <button type='button' className='course-item__times__entry__delete-button'\r\n                        onClick={ this.deleteTime } >\r\n                        X\r\n                    </button>\r\n\r\n\r\n                    <select className='course-item__times__entry__dayOfWeek' value={ dayOfWeek } onChange={ this.changeTimeInfo } >\r\n                        <option value='Sun'>Sunday</option>\r\n                        <option value='Mon'>Monday</option>\r\n                        <option value='Tue'>Tuesday</option>\r\n                        <option value='Wed'>Wednesday</option>\r\n                        <option value='Thu'>Thursday</option>\r\n                    </select>\r\n\r\n                    <select className='course-item__times__entry__session' value={ session } onChange={ this.changeTimeInfo } >\r\n                        <option value='02'>02 (8:00am - 8:50am)</option>\r\n                        <option value='03'>03 (9:00am - 9:50am)</option>\r\n                        <option value='04'>04 (10:00am - 10:50am)</option>\r\n                        <option value='05'>05 (11:00am - 11:50am)</option>\r\n                        <option value='06'>06 (12:00pm - 12:50pm)</option>\r\n                        <option value='07'>07 (1:00pm - 1:50pm)</option>\r\n                        <option value='08'>08 (2:00pm - 2:50pm)</option>\r\n                        <option value='09'>09 (3:00pm - 3:50pm)</option>\r\n                        <option value='10'>10 (4:00pm - 4:50pm)</option>\r\n                        <option value='11'>11 (5:00pm - 5:50pm)</option>\r\n                        <option value='12'>12 (6:00pm - 6:50pm)</option>\r\n                    </select>\r\n\r\n                </div>\r\n        );\r\n        //=================================== JSX ==========================================\r\n    }\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        deleteTime: ( courseIndexToDel, timeIndexToDel ) => \r\n            dispatch( TimeActions.deleteTime(courseIndexToDel, timeIndexToDel) ),\r\n        changeTimeInfo: ( courseIndexToChange, timeIndexToChange, newTimeValues ) =>\r\n            dispatch( TimeActions.changeTimeInfo(courseIndexToChange, timeIndexToChange, newTimeValues) )\r\n    }\r\n}\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(CourseTimeItem);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\n//  ContentEditable\r\nimport ContentEditable from 'react-contenteditable';\r\n\r\n\r\nimport CourseActions from '../Redux/Actions/CourseActions';\r\nimport TimeActions from '../Redux/Actions/TimeActions';\r\n\r\n//  Other React Components\r\nimport CourseTimeItem from './CourseTimeItem.js';\r\n\r\n\r\n\r\nclass CourseItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.deleteCourse = this.deleteCourse.bind(this);\r\n        this.changeCourseInfo = this.changeCourseInfo.bind(this);\r\n        this.addTime = this.addTime.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.courseItemHTML = document.getElementById( `course-item-${ this.courseID }`);\r\n        this.courseItemInfoElements = this.courseItemHTML.children[0].children;\r\n        \r\n        this.courseNameHTML = this.courseItemInfoElements[0];\r\n        this.lecturerNameHTML = this.courseItemInfoElements[1];\r\n        this.courseCodeHTML = this.courseItemInfoElements[2];\r\n    }\r\n\r\n\r\n    deleteCourse() {\r\n        this.courseItemHTML.classList.add('fade-out');\r\n\r\n        setTimeout(() => {\r\n            this.props.deleteCourse( this.courseID );\r\n        }, 500);\r\n    }\r\n\r\n    changeCourseInfo() {\r\n        this.props.changeCourseInfo(\r\n            {\r\n                courseID: this.courseID,\r\n                courseName: this.courseNameHTML.textContent,\r\n                lecturerName: this.lecturerNameHTML.textContent,\r\n                courseCode: this.courseCodeHTML.textContent\r\n            }\r\n        );\r\n    }\r\n\r\n    addTime() {\r\n        this.props.addTime( this.courseID );\r\n    }\r\n\r\n\r\n    timeItemRenderer() {\r\n        return Object.keys( this.props.courseTimes ).map( (timeIdx) => {\r\n            if ( timeIdx !== 'nextTimeID')\r\n                return ( <CourseTimeItem key={timeIdx} courseID={this.courseID} timeInfo={ this.props.courseTimes[timeIdx] } /> )\r\n        });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        this.courseInfo = this.props.courseInfo;\r\n        this.courseID = this.courseInfo.courseID;\r\n        this.courseTimes = this.props.courseTimes;\r\n\r\n        //=================================== JSX ==========================================\r\n        return (\r\n            <div className={`course-item course-item--${ this.courseID % 10 }-theme`} id={`course-item-${ this.courseID }`}>\r\n                <div className='course-item__info'>\r\n\r\n\r\n                    <ContentEditable className='course-item__info__courseName' id={`course-item__info__courseName-${ this.courseID }`}\r\n                        onChange={ this.changeCourseInfo } html={ this.courseInfo.courseName } spellCheck='false'  />\r\n                    <ContentEditable className='course-item__info__lecturerName' id={`course-item__info__lecturerName-${ this.courseID }`}\r\n                    onChange={ this.changeCourseInfo } html={ this.courseInfo.lecturerName } spellCheck='false' />\r\n                    <ContentEditable className='course-item__info__courseCode' id={`course-item__info__courseCode-${ this.courseID }`}\r\n                        onChange={ this.changeCourseInfo } html={ this.courseInfo.courseCode } spellCheck='false' />\r\n\r\n\r\n                    <div className='course-item__info__buttons'>\r\n                        <button type='button' className='course-item__info__buttons__delete-btn'\r\n                            onClick={ this.deleteCourse } >\r\n                            <i className=\"fas fa-trash-alt\"></i>\r\n                        </button>\r\n                        <button type='button' className='course-item__info__buttons__add-button'\r\n                            onClick={ this.addTime } >\r\n                            +\r\n                        </button>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className='course-item__seperator'></div>\r\n\r\n                <div className='course-item__times'>\r\n                    { this.timeItemRenderer() }\r\n                </div>\r\n                \r\n            </div>\r\n        );\r\n        //=================================== JSX ==========================================\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        deleteCourse: ( courseIndexToDel ) => dispatch( CourseActions.deleteCourse( courseIndexToDel ) ),\r\n        changeCourseInfo: ( newInfoValues ) => dispatch( CourseActions.changeCourseInfo( newInfoValues ) ),\r\n        addTime: ( courseIndexToAdd ) => dispatch( TimeActions.addTime( courseIndexToAdd ) )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(CourseItem);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\n//  Redux Action Creators\r\nimport CourseActions from '../Redux/Actions/CourseActions';\r\nimport TimetableActions from '../Redux/Actions/TimetableActions';\r\n\r\n// Other React Components\r\nimport CourseItem from './CourseItem.js';\r\n\r\n\r\nclass CourseContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.addCourse = this.addCourse.bind(this);\r\n        this.courseItemRenderer = this.courseItemRenderer.bind(this);\r\n        this.viewButtonHandler = this.viewButtonHandler.bind(this);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.courseContainer = document.getElementById('course-window__div');\r\n    }\r\n\r\n\r\n    //  Adds a new course item into the courses div\r\n    addCourse() {\r\n        this.props.addCourse();\r\n\r\n        //  Only scroll to bottom after element is inserted, which takes a little bit of time\r\n        setTimeout(() => {\r\n            this.courseContainer.scrollTop = this.courseContainer.scrollHeight;\r\n        }, 50);\r\n    }\r\n\r\n    //  Converts the array of courses into the JSX respective.\r\n    courseItemRenderer() {\r\n        const { courseItems, courseTimeItems } = this.props;\r\n\r\n        const courseHTML = Object.keys( courseItems ).map( (courseID) => {\r\n            return ( <CourseItem key={courseID} courseInfo={courseItems[courseID]} \r\n                courseTimes={courseTimeItems[courseID] } /> );\r\n        });\r\n        return courseHTML;\r\n    }\r\n\r\n    viewButtonHandler() {\r\n        this.props.viewTimetable();\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        //=================================== JSX ==========================================\r\n        return (\r\n            <main className='course-window' id='course-window'>\r\n\r\n                <div className='course-window__div' id='course-window__div'>\r\n                    { this.courseItemRenderer() }\r\n                </div>\r\n\r\n                <button type='button' className='course-window__add-button' id='course-window__add-button'\r\n                    onClick={ this.addCourse } >\r\n                    +\r\n                </button>\r\n\r\n                <button type='button' className='course-window__view-button' id='course-window__view-button'\r\n                    onClick={ this.viewButtonHandler } >\r\n                    <i className=\"far fa-eye\"></i>\r\n                </button>\r\n            </main>\r\n        );\r\n        //=================================== JSX ==========================================\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction mapStateToProps(store) {\r\n    return {\r\n        courseItems: store.courseItems,\r\n        courseTimeItems: store.courseTimeItems\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        addCourse: () => dispatch( CourseActions.addCourse() ),\r\n        viewTimetable: () => dispatch( TimetableActions.viewTimetable() )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CourseContainer);","import konva from 'konva';\r\n\r\nconst konvaFactory = {\r\n    \r\n    rectFactory: ( x, y, width, height, fill) => {\r\n        return new konva.Rect({\r\n            x, y, width, height, fill, listening: false\r\n        });\r\n    },\r\n\r\n    textFactory: ( text, x, y, width, height, fontSize, fontFamily='Roboto', fontStyle='normal', padding=0 ) => {\r\n        return new konva.Text({\r\n            text, x, y, width, height, fontFamily, fontSize, fontStyle, padding, align: 'center', verticalAlign: 'middle',\r\n            fill: 'white', listening: false\r\n        })\r\n    }\r\n    \r\n};\r\n\r\n\r\nexport default konvaFactory;","\r\n\r\n//  Note: SVG viewBox sizes are 2400 and 900.\r\n//      Each grid shall be sized 150 in height, 200 in width\r\n//      There are a total of 6 rows, including the first row is nested row\r\n//      There are a total of 12 columns. Including one dayOfWeek Column, and the rest are sessions\r\nfunction configSettings() {\r\n    this.timetableWidth = 2100;\r\n    this.timetableHeight = 750;\r\n    this.margin = 2;\r\n\r\n    this.dayOfWeeks = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday'];\r\n    this.times = [8,9,10,11,12,1,2,3,4,5,6];\r\n    this.sessions = ['02','03','04','05','06','07','08','09','10','11','12'];\r\n\r\n    this.theme = 'default';\r\n    this.courseNameFontSize = 25;\r\n    this.lecturerNameFontSize = 15;\r\n    this.courseCodeFontSize = 13;\r\n\r\n    this.labelBG = '#7f8082';\r\n    this.sideColorBG = '#70ad46';\r\n    this.oddRowBG = '#c6e0b3';\r\n    this.evenRowBG = '#a9d08f';\r\n\r\n    this.colorMaps = [\r\n        '#3498db',\r\n        '#6ab04c',\r\n        '#e74c3c',\r\n        '#9b59b6',\r\n        '#34495e',\r\n        '#f1c40f',\r\n        '#3a40b6',\r\n        '#2ecc71',\r\n        '#e67e22',\r\n        '#686de0'\r\n    ];\r\n\r\n    //  Auto computed ============================\r\n    this.gridWidth = this.timetableWidth / 12;\r\n    this.gridHeight = this.timetableHeight / 6;\r\n    this.actualWidth = this.gridWidth - 2 * this.margin;\r\n    this.actualHeight = this.gridHeight - 2 * this.margin;\r\n\r\n    this.row1GridHeight = this.gridHeight / 2;\r\n    this.row1ActualHeight = this.row1GridHeight - this.margin * 2;\r\n\r\n    \r\n}\r\n\r\nexport default new configSettings();","\r\nimport konva from 'konva';\r\nimport KonvaFactory from './KonvaFactory';\r\n\r\n//  Timetable configuration Settings\r\nimport TimetableConfig from './TimetableConfig';\r\n\r\n\r\n//  Timetable settings\r\nconst { \r\n    timetableWidth,\r\n    timetableHeight,\r\n    margin, \r\n\r\n    dayOfWeeks,\r\n    times,\r\n    sessions,\r\n\r\n    gridWidth, \r\n    gridHeight, \r\n    actualWidth, \r\n    actualHeight, \r\n    row1GridHeight, \r\n    row1ActualHeight,\r\n    \r\n    labelBG,\r\n    sideColorBG,\r\n    oddRowBG,\r\n    evenRowBG,\r\n} = TimetableConfig;\r\n\r\nconst { rectFactory, textFactory } = KonvaFactory;\r\n\r\n\r\n\r\nfunction TimetableBaseDrawer( canvas ) {\r\n\r\n    const stage = new konva.Stage({\r\n        container: canvas.id\r\n    });\r\n    stage.size( { width: timetableWidth, height: timetableHeight } );\r\n    stage.container().classList.add('timetable__previewer__wrapper');\r\n\r\n    const layer = new konva.Layer();\r\n    layer.size( { width: timetableWidth, height: timetableHeight} );\r\n\r\n    const rects = [];\r\n    const texts = [];\r\n\r\n    //  Background\r\n    rects.push( rectFactory(0,0, timetableWidth, timetableHeight, 'white') );\r\n\r\n    //  Labels\r\n    rects.push( rectFactory(margin, margin, actualWidth, row1ActualHeight, labelBG) );\r\n    rects.push( rectFactory(margin, row1GridHeight + margin, actualWidth, row1ActualHeight, labelBG) );\r\n    texts.push( textFactory('Time', margin, margin, actualWidth, row1ActualHeight, 30) );\r\n    texts.push( textFactory('Session', margin, row1GridHeight + margin, actualWidth, row1ActualHeight, 30) );\r\n\r\n\r\n    //  Day Of Weeks (Monday, Tuesday...)\r\n    dayOfWeeks.forEach( (dayOfWeek, idx) => {\r\n        rects.push( rectFactory(margin, (gridHeight) + (gridHeight * idx + margin), \r\n            actualWidth, actualHeight, sideColorBG) );\r\n        texts.push( textFactory(dayOfWeek, margin, (gridHeight) + (gridHeight * idx + margin),\r\n            actualWidth, actualHeight, 30, 'Roboto', 'bold') );\r\n    });\r\n\r\n    //  Times (8am, 9am...)\r\n    times.forEach( (time, idx) => {\r\n        const beginTime = `${time}:00 ${ time >= 8 && time !== 12? 'a.m':'p.m'}`;\r\n        const endTime = `${time}:50 ${ time >= 8 && time !== 12? 'a.m':'p.m'}`;\r\n\r\n        rects.push( rectFactory( (gridWidth) + (gridWidth * idx + margin), margin, \r\n            actualWidth, row1ActualHeight, sideColorBG) );\r\n        texts.push( textFactory( beginTime, (gridWidth) + (gridWidth * idx + margin), margin,\r\n            actualWidth, row1ActualHeight / 2, 20) );\r\n        texts.push( textFactory( endTime, (gridWidth) + (gridWidth * idx + margin), margin + row1ActualHeight / 2,\r\n            actualWidth, row1ActualHeight / 2, 20) );\r\n    });\r\n\r\n    //  Sessions ( 02, 03...)\r\n    sessions.forEach( (session, idx) => {\r\n        rects.push( rectFactory( (gridWidth) + (gridWidth * idx + margin), row1GridHeight + margin, \r\n            actualWidth, row1ActualHeight, sideColorBG) );\r\n        texts.push( textFactory( session, (gridWidth) + (gridWidth * idx + margin), row1GridHeight + margin,\r\n            actualWidth, row1ActualHeight, 30) );\r\n    });\r\n\r\n    //  Odd Rows Background\r\n    sessions.forEach( (times, idx) => {\r\n        rects.push( rectFactory( (gridWidth) + (gridWidth * idx + margin), gridHeight + margin, \r\n            actualWidth, actualHeight, oddRowBG) );\r\n        rects.push( rectFactory( (gridWidth) + (gridWidth * idx + margin), gridHeight * 3 + margin, \r\n            actualWidth, actualHeight, oddRowBG) );\r\n        rects.push( rectFactory( (gridWidth) + (gridWidth * idx + margin), gridHeight * 5 + margin, \r\n            actualWidth, actualHeight, oddRowBG) );\r\n    })\r\n\r\n    //  Even Rows Background\r\n    sessions.forEach( (times, idx) => {\r\n        rects.push( rectFactory( (gridWidth) + (gridWidth * idx + margin), gridHeight * 2 + margin, \r\n            actualWidth, actualHeight, evenRowBG) );\r\n        rects.push( rectFactory( (gridWidth) + (gridWidth * idx + margin), gridHeight * 4 + margin, \r\n            actualWidth, actualHeight, evenRowBG) );\r\n    })\r\n\r\n    //  Draw each element into canvas\r\n    rects.forEach( (rect) => layer.add(rect) );\r\n    texts.forEach( (text) => layer.add(text) );\r\n    stage.add(layer);\r\n\r\n    layer.draw();\r\n\r\n    return stage;\r\n}\r\n\r\nexport default TimetableBaseDrawer;","\r\nimport TimetableConfig from './TimetableConfig';\r\n\r\nimport konva from 'konva';\r\nimport KonvaFactory from './KonvaFactory';\r\n\r\n//  Timetable settings\r\nconst { \r\n    timetableWidth,\r\n    timetableHeight,\r\n    margin, \r\n\r\n    dayOfWeeks,\r\n    times,\r\n    sessions,\r\n    \r\n    theme,\r\n    courseNameFontSize,\r\n    lecturerNameFontSize,\r\n    courseCodeFontSize,\r\n\r\n    gridWidth, \r\n    gridHeight, \r\n    actualWidth, \r\n    actualHeight, \r\n    row1GridHeight, \r\n    row1ActualHeight,\r\n    \r\n    labelBG,\r\n    sideColorBG,\r\n    oddRowBG,\r\n    evenRowBG,\r\n    colorMaps\r\n} = TimetableConfig;\r\n\r\nconst { rectFactory, textFactory } = KonvaFactory;\r\n\r\n\r\n/*\r\n    Structure of each individual renderData:\r\n    {\r\n        courseObj: {\r\n            courseCode:\r\n            courseName:\r\n            lecturerName:\r\n            courseID:\r\n        },\r\n        dayOfWeek:              ( [0 - 4] )\r\n        startingSession:        ( [0 - 11] )\r\n        endingSession:          ( [0 - 11] )\r\n    }\r\n*/\r\nfunction TimetableSlotDrawer( canvas , renderData) {\r\n\r\n    //  Remove the previously drawn timetable courses\r\n    if (canvas.getLayers()[1] ) {\r\n        canvas.getLayers()[1].destroy();\r\n    }\r\n\r\n    const layer = new konva.Layer({\r\n        width: timetableWidth,\r\n        height: timetableHeight\r\n    });\r\n\r\n    const rects = [];\r\n    const texts = [];\r\n\r\n    renderData.renderData.forEach( course => {\r\n        const { dayOfWeek, startingSession, endingSession } = course;\r\n        const { courseName, lecturerName, courseCode, courseID } = course.courseObj;\r\n\r\n        const isCourseNameEmpty = courseName.length === 0;\r\n        const isLectNameEmpty = lecturerName.length === 0;\r\n        const isCourseCodeEmpty = courseCode.length === 0;\r\n\r\n        const xPosition = gridWidth + startingSession * gridWidth + margin;\r\n        const yPosition = gridHeight + dayOfWeek * gridHeight + margin;\r\n        const width = (actualWidth + margin) * (endingSession - startingSession + 1);\r\n\r\n\r\n        rects.push( rectFactory(\r\n            xPosition,\r\n            yPosition,\r\n            width,\r\n            actualHeight,\r\n            colorMaps[courseID]\r\n        ) );\r\n\r\n        if (!isCourseNameEmpty)\r\n            texts.push( textFactory(\r\n                courseName,\r\n                xPosition,\r\n                yPosition,\r\n                width,\r\n                actualHeight * heightDeterminer.courseName.heightScale( isLectNameEmpty, isCourseCodeEmpty ),\r\n                courseNameFontSize,\r\n                'Roboto',\r\n                'normal',\r\n                3\r\n            ) );\r\n\r\n        if (!isLectNameEmpty)\r\n            texts.push( textFactory(\r\n                lecturerName,\r\n                xPosition,\r\n                yPosition + actualHeight * heightDeterminer.lectName.yOffset( isCourseNameEmpty, isCourseCodeEmpty ),\r\n                width,\r\n                actualHeight * heightDeterminer.lectName.heightScale( isCourseNameEmpty, isCourseCodeEmpty ),\r\n                lecturerNameFontSize,\r\n                'Roboto',\r\n                'normal',\r\n                3\r\n            ) );\r\n\r\n        if (!isCourseCodeEmpty)\r\n            texts.push( textFactory(\r\n                courseCode,\r\n                xPosition,\r\n                yPosition + actualHeight * heightDeterminer.courseCode.yOffset( isCourseNameEmpty, isLectNameEmpty ),\r\n                width,\r\n                actualHeight * heightDeterminer.courseCode.heightScale( isCourseNameEmpty, isLectNameEmpty ),\r\n                courseCodeFontSize,\r\n                'Roboto',\r\n                'bold',\r\n                3\r\n            ) );\r\n\r\n    })\r\n\r\n    rects.forEach( rect => layer.add(rect) );\r\n    texts.forEach( text => layer.add(text) );\r\n    canvas.add(layer);\r\n}\r\n\r\n//  Give corresponding height for texts depending if some fields are empty\r\nconst heightDeterminer = {\r\n    courseName: {\r\n        heightScale: function( isLectNameEmpty, isCourseCodeEmpty) {\r\n            if (isLectNameEmpty && isCourseCodeEmpty) return 1;\r\n            if (isLectNameEmpty || isCourseCodeEmpty) return 0.75;\r\n            return 0.5;\r\n        }\r\n    },\r\n    lectName: {\r\n        yOffset: function( isCourseNameEmpty, isCourseCodeEmpty) {\r\n            if (isCourseNameEmpty) return 0;\r\n            if (isCourseCodeEmpty) return 0.75;\r\n            return 0.5;\r\n        },\r\n        heightScale: function( isCourseNameEmpty, isCourseCodeEmpty) {\r\n            if (isCourseNameEmpty && isCourseCodeEmpty) return 1;\r\n            if (isCourseCodeEmpty || !isCourseNameEmpty) return 0.25;\r\n            return 0.5;\r\n        }\r\n    },\r\n    courseCode: {\r\n        yOffset: function( isCourseNameEmpty, isLectNameEmpty ) {\r\n            if (isCourseNameEmpty && isLectNameEmpty) return 0;\r\n            if (isCourseNameEmpty) return 0.5;\r\n            return 0.75;\r\n        },\r\n        heightScale: function( isCourseNameEmpty, isCourseCodeEmpty) {\r\n            if (isCourseNameEmpty && isCourseCodeEmpty) return 1;\r\n            if (isCourseNameEmpty) return 0.5;\r\n            return 0.25;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default TimetableSlotDrawer;","import React from 'react';\r\n\r\n//  Redux Utilities\r\nimport { connect } from 'react-redux';\r\n\r\nimport TimetableActions from '../Redux/Actions/TimetableActions';\r\n\r\n//  Timetable Drawing Functions\r\nimport TimetableBaseDrawer from '../LogicUtils/TimetableBaseDrawer';\r\nimport TimetableSlotDrawer from '../LogicUtils/TimetableSlotDrawer';\r\n\r\n\r\n\r\n\r\nclass TimetablePreviewer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.timetableHTML = React.createRef();\r\n        this.timetableCanvasWindow = React.createRef();\r\n\r\n        this.closePreviewBtnHandler = this.closePreviewBtnHandler.bind(this);\r\n        this.downloadBtnHandler = this.downloadBtnHandler.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.canvasStage = TimetableBaseDrawer( this.timetableCanvasWindow.current );\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        TimetableSlotDrawer( this.canvasStage, this.props.timetableRenderData );\r\n    }\r\n\r\n    closePreviewBtnHandler() {\r\n        this.timetableHTML.current.classList.add('transitionOut');\r\n\r\n        setTimeout(() => {\r\n            this.timetableHTML.current.classList.remove('transitionOut');\r\n            this.props.closePreview();\r\n        }, 800);\r\n    }\r\n\r\n    downloadBtnHandler() {\r\n        const tempLink = document.createElement('a');\r\n        tempLink.download = 'timetable';\r\n        tempLink.href = this.canvasStage.toDataURL();\r\n        tempLink.click();\r\n        tempLink.remove();\r\n    }\r\n\r\n    \r\n    render() {\r\n        const {isPreviewOpen} = this.props.timetableRenderData;\r\n        //=================================== JSX ==========================================\r\n        return (\r\n            <div className={`timetable ${isPreviewOpen? '':'hidden' }`} ref={ this.timetableHTML } >\r\n                <div className='timetable__bgblocker' >\r\n                </div>\r\n\r\n                <div className='timetable__previewer' id='timetable__previewer'>\r\n                    <button type='button' className='timetable__previewer__closebtn' id='timetable__previewer__closebtn'\r\n                        onClick={this.closePreviewBtnHandler} >\r\n                        <i className=\"fas fa-times\"></i>\r\n                    </button>\r\n\r\n                    <div className='timetable__previewer__wrapper' id='timetable__previewer__wrapper'\r\n                          ref={ this.timetableCanvasWindow } >\r\n                    </div>\r\n\r\n                    <button type='button' className='timetable__previewer__downloadbtn' id='timetable__previewer__downloadbtn'\r\n                        onClick={this.downloadBtnHandler} >\r\n                        Download as png\r\n                    </button>\r\n\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n        //=================================== JSX ==========================================\r\n    }\r\n    \r\n}\r\n\r\nfunction mapStateToProps( store ) {\r\n    return {\r\n        timetableRenderData: store.timetableRenderData\r\n    };\r\n}\r\n\r\n\r\n\r\nfunction mapDispatchToProps( dispatch ) {\r\n    return {\r\n        closePreview: ()=> dispatch( TimetableActions.closePreview() )\r\n    };\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TimetablePreviewer);","import React from 'react';\r\n\r\n// Other React Components\r\nimport CourseContainer from './CourseContainer.js'\r\nimport TimetablePreviewer from './TimetablePreviewer';\r\n\r\n\r\n\r\n\r\nclass MainDiv extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.closePreviewButtonHandler = this.closePreviewButtonHandler.bind(this);\r\n    }\r\n\r\n\r\n    closePreviewButtonHandler() {\r\n        this.props.closePreview();\r\n    }\r\n\r\n\r\n    render() {\r\n        \r\n        //=================================== JSX ==========================================\r\n        return (\r\n            <div className='container' id='container'>\r\n                <header className='header' id='header'>\r\n                    <img className='header__logo' id='header__logo' \r\n                        src='https://upload.wikimedia.org/wikipedia/commons/8/81/UTM-LOGO.png' alt='Logo of UTM'/>\r\n                    <h1 className='header__title' id='header__title'>UTM Timetable Generator</h1>\r\n                </header>\r\n\r\n                <CourseContainer />\r\n\r\n                <TimetablePreviewer />\r\n\r\n                <footer className='footer' id='footer'>\r\n                    <h2 className='footer__text'> Lorem Ipsum Sit Dolor Amet Placeholder Text </h2>\r\n                </footer>\r\n            </div>\r\n        );\r\n        //=================================== JSX ==========================================\r\n    }\r\n\r\n}\r\n\r\nexport default MainDiv;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux';\n\nimport store from './Redux/Store/Store';\n\nimport './Styles/style.css';\n\nimport MainDiv from './Components/MainDiv.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store} >\n    <MainDiv />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}