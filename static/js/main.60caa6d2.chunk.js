(this.webpackJsonputm_timetable_gen=this.webpackJsonputm_timetable_gen||[]).push([[0],{37:function(e,t,a){e.exports=a(85)},46:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),i=a.n(s),o=a(8),c=a(17),l={ADD_COURSE:"ADD_COURSE",DELETE_COURSE:"DELETE_COURSE",CHANGE_COURSE_INFO:"CHANGE_COURSE_INFO",ADD_TIME:"ADD_TIME",DELETE_TIME:"DELETE_TIME",CHANGE_TIME_INFO:"CHANGE_TIME_INFO",VIEW_TIMETABLE:"VIEW_TIMETABLE",CLOSE_PREVIEW:"CLOSE_PREVIEW",OPEN_SETTING:"OPEN_SETTING",CLOSE_SETTING:"CLOSE_SETTING",CHANGE_SETTING:"CHANGE_SETTING",SAVE_SETTING:"SAVE_SETTING",LOAD_SETTING:"LOAD_SETTING",DEL_SETTING:"DEL_SETTING"};function u(e,t){var a=[[],[],[],[],[]];for(var n in e){var r=e[n],s=t[n];for(var i in s)if("nextTimeID"!==i){var o=parseInt(s[i].dayOfWeek),c=parseInt(s[i].session),l=a[o][c];if(void 0!==l){var u=new Error;throw u.course1=l,u.course2=r,u.row=o,u.col=c,u}a[o][c]=r}}return a}var m=function(e){for(var t=e.length,a=e.reduce((function(e,t){return Math.max(t.length,e)}),0),n=[],r=0;r<t;r++)for(var s=0;s<a;){if(void 0!==e[r][s]){for(var i={dayOfWeek:r,startingSession:s,endingSession:s,courseObj:e[r][s]};s+1<a&&e[r][s+1]===i.courseObj;)s++,i.endingSession=s;n.push(i)}s++}return n},d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"],g=["02","03","04","05","06","07","08","09","10","11","12"],h=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a?d[e+(t?0:1)]:d.indexOf(e)-(t?0:1)},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?g[e]:g.indexOf(e)},p={version:"1.1.0",isPreviewOpen:!1,isSettingOpen:!1,nextCourseID:1,courseItems:{0:{courseID:0,courseName:"Course Name",lecturerName:"Lecturer Name",courseCode:"Course Code"}},courseTimeItems:{0:{0:{timeID:0,dayOfWeek:0,session:0},nextTimeID:1}},timetableRenderData:null,settings:{theme:"default",isIslamicWeekend:!0,courseNameFontSize:25,lecturerNameFontSize:15,courseCodeFontSize:13,gridWidth:200,gridHeight:150,noOfSessions:12}},f=window.localStorage.getItem("version"),E=window.localStorage.getItem("nextCourseID"),v=JSON.parse(window.localStorage.getItem("courseItems")),b=JSON.parse(window.localStorage.getItem("courseTimeItems")),I=JSON.parse(window.localStorage.getItem("settings"));f&&f===p.version?E&&v&&b&&I&&(p.nextCourseID=parseInt(E),p.courseItems=v,p.courseTimeItems=b,p.settings=I):window.localStorage.clear();var T=function(e){return{courseID:e++,courseName:"Course Name",lecturerName:"Lecturer Name",courseCode:"Course Code"}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=e.courseItems,n=e.courseTimeItems;switch(t.type){case l.ADD_COURSE:var r=T(e.nextCourseID);return(a=Object.assign({},a))[r.courseID]=r,(n=Object.assign({},n))[r.courseID]={nextTimeID:0},Object.assign({},e,{courseItems:a,courseTimeItems:n,nextCourseID:e.nextCourseID+1});case l.DELETE_COURSE:var s=t.payload.courseIndexToDel;return delete(a=Object.assign({},a))[s],delete(n=Object.assign({},n))[s],Object.assign({},e,{courseItems:a,courseTimeItems:n});case l.CHANGE_COURSE_INFO:var i=t.payload.newInfoValues,o=i.courseID;return(a=Object.assign({},a))[o]=i,Object.assign({},e,{courseItems:a});case l.ADD_TIME:var c=t.payload.courseIndexToAdd,d=n[c].nextTimeID,g=Object.assign({},n[c],{nextTimeID:d+1});return g[d]={timeID:d,dayOfWeek:0,session:0},(n=Object.assign({},n))[c]=g,Object.assign({},e,{courseTimeItems:n});case l.DELETE_TIME:var f=t.payload,E=f.courseIndexToDel,v=f.timeIndexToDel,b=Object.assign({},n[E]);return delete b[v],(n=Object.assign({},n))[E]=b,Object.assign({},e,{courseTimeItems:n});case l.CHANGE_TIME_INFO:var I=t.payload,N=I.courseIndexToChange,S=I.timeIndexToChange,w=I.newTimeValues,C=Object.assign({},n[N]);return C[S]=w,(n=Object.assign({},n))[N]=C,Object.assign({},e,{courseTimeItems:n});case l.VIEW_TIMETABLE:var O=null;try{O=u(e.courseItems,e.courseTimeItems)}catch(j){return window.alert("Clashing Timetable Detected!\nThe course:\n\n"+"".concat(j.course1.courseName,", ").concat(j.course1.lecturerName,", ").concat(j.course1.courseCode,"\n\n")+"Clashes with:\n\n"+"".concat(j.course2.courseName,", ").concat(j.course2.lecturerName,", ").concat(j.course2.courseCode,"\n\n")+"At timeslot:\n"+"   ".concat(h(j.row,e.settings.isIslamicWeekend,!0),", ").concat(_(j.col,!0))),e}var y=m(O);return Object.assign({},e,{timetableRenderData:y,isPreviewOpen:!0});case l.CLOSE_PREVIEW:return Object.assign({},e,{isPreviewOpen:!1});case l.OPEN_SETTING:return Object.assign({},e,{isSettingOpen:!0});case l.CLOSE_SETTING:return Object.assign({},e,{isSettingOpen:!1});case l.CHANGE_SETTING:var D=t.payload.settingEvent.target,k=Object.assign({},e.settings);switch(D.id){case"theme":k.theme=D.value;break;case"weekend":k.isIslamicWeekend="0"===D.value;break;case"courseName-fontsize":k.courseNameFontSize=Math.min(70,Math.max(D.value,0));break;case"lecturerName-fontsize":k.lecturerNameFontSize=Math.min(70,Math.max(D.value,0));break;case"courseCode-fontsize":k.courseCodeFontSize=Math.min(70,Math.max(D.value,0));break;case"noOfSessions":k.noOfSessions=D.value;break;case"gridWidth":k.gridWidth=Math.min(400,Math.max(D.value,0));break;case"gridHeight":k.gridHeight=Math.min(400,Math.max(D.value,0));break;default:return e}return Object.assign({},e,{settings:k});case l.SAVE_SETTING:try{window.localStorage.setItem("version",e.version),window.localStorage.setItem("nextCourseID",e.nextCourseID),window.localStorage.setItem("courseItems",JSON.stringify(e.courseItems)),window.localStorage.setItem("courseTimeItems",JSON.stringify(e.courseTimeItems)),window.localStorage.setItem("settings",JSON.stringify(e.settings)),window.alert("Course Informations and Settings Saved To Local Storage!")}catch(F){window.alert("Unable to save to local Storage")}return e;case l.LOAD_SETTING:try{var G=parseInt(window.localStorage.getItem("nextCourseID")),H=JSON.parse(window.localStorage.getItem("courseItems")),L=JSON.parse(window.localStorage.getItem("courseTimeItems")),M=JSON.parse(window.localStorage.getItem("settings"));if(!G||!H||!L||!M)throw Error;return window.alert("Successfully loaded saved state from local storage"),Object.assign({},e,{nextCourseID:G,courseItems:H,courseTimeItems:L,settings:M})}catch(x){window.alert("Unable to load from local Storage")}return e;case l.DEL_SETTING:return window.localStorage.removeItem("nextCourseID"),window.localStorage.removeItem("courseItems"),window.localStorage.removeItem("courseTimeItems"),window.localStorage.removeItem("settings"),window.alert("Successfully cleared saved state from local storage!"),e;default:return e}},S=Object(c.b)(N,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),w=(a(46),a(9)),C=a(10),O=a(12),y=a(11),D=a(7),k={addCourse:function(){return{type:l.ADD_COURSE}},deleteCourse:function(e){return{type:l.DELETE_COURSE,payload:{courseIndexToDel:e}}},changeCourseInfo:function(e){return{type:l.CHANGE_COURSE_INFO,payload:{newInfoValues:e}}}},G={viewTimetable:function(){return{type:l.VIEW_TIMETABLE}},closePreview:function(){return{type:l.CLOSE_PREVIEW}}},H=a(18),L=a.n(H),M={addTime:function(e){return{type:l.ADD_TIME,payload:{courseIndexToAdd:e}}},deleteTime:function(e,t){return{type:l.DELETE_TIME,payload:{courseIndexToDel:e,timeIndexToDel:t}}},changeTimeInfo:function(e,t,a){return{type:l.CHANGE_TIME_INFO,payload:{courseIndexToChange:e,timeIndexToChange:t,newTimeValues:a}}}},j=function(e){Object(O.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).deleteTime=n.deleteTime.bind(Object(D.a)(n)),n.changeTimeInfo=n.changeTimeInfo.bind(Object(D.a)(n)),n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.timeItemHTML=document.getElementById("course-item__times__entry-".concat(this.props.courseID,"-").concat(this.props.timeInfo.timeID)),this.timeDayOfWeekHTML=this.timeItemHTML.children[1],this.timeSessionHTML=this.timeItemHTML.children[2]}},{key:"deleteTime",value:function(){var e=this;this.timeItemHTML.classList.add("fade-out"),setTimeout((function(){e.props.deleteTime(e.props.courseID,e.props.timeInfo.timeID)}),500)}},{key:"changeTimeInfo",value:function(){this.props.changeTimeInfo(this.props.courseID,this.props.timeInfo.timeID,{timeID:this.props.timeInfo.timeID,dayOfWeek:this.timeDayOfWeekHTML.value,session:this.timeSessionHTML.value})}},{key:"render",value:function(){var e=this.props,t=e.isIslamicWeekend,a=e.courseID,n=this.props.timeInfo,s=n.timeID,i=n.dayOfWeek,o=n.session;return r.a.createElement("div",{className:"course-item__times__entry",id:"course-item__times__entry-".concat(a,"-").concat(s)},r.a.createElement("button",{type:"button",className:"course-item__times__entry__delete-button",onClick:this.deleteTime},"\u2716"),r.a.createElement("select",{className:"course-item__times__entry__dayOfWeek",value:i,onChange:this.changeTimeInfo},r.a.createElement("option",{value:"0"},h(0,t,!0)),r.a.createElement("option",{value:"1"},h(1,t,!0)),r.a.createElement("option",{value:"2"},h(2,t,!0)),r.a.createElement("option",{value:"3"},h(3,t,!0)),r.a.createElement("option",{value:"4"},h(4,t,!0))),r.a.createElement("select",{className:"course-item__times__entry__session",value:o,onChange:this.changeTimeInfo},r.a.createElement("option",{value:"0"},"02 (8:00am - 9:00am)"),r.a.createElement("option",{value:"1"},"03 (9:00am - 10:00am)"),r.a.createElement("option",{value:"2"},"04 (10:00am - 11:00am)"),r.a.createElement("option",{value:"3"},"05 (11:00am - 12:00pm)"),r.a.createElement("option",{value:"4"},"06 (12:00pm - 1:00pm)"),r.a.createElement("option",{value:"5"},"07 (1:00pm - 2:00pm)"),r.a.createElement("option",{value:"6"},"08 (2:00pm - 3:00pm)"),r.a.createElement("option",{value:"7"},"09 (3:00pm - 4:00pm)"),r.a.createElement("option",{value:"8"},"10 (4:00pm - 5:00pm)"),r.a.createElement("option",{value:"9"},"11 (5:00pm - 6:00pm)"),r.a.createElement("option",{value:"10"},"12 (6:00pm - 7:00pm)"),r.a.createElement("option",{value:"11"},"13 (7:00pm - 8:00pm)")))}}]),a}(r.a.PureComponent);var F=Object(o.b)((function(e){return{isIslamicWeekend:e.settings.isIslamicWeekend}}),(function(e){return{deleteTime:function(t,a){return e(M.deleteTime(t,a))},changeTimeInfo:function(t,a,n){return e(M.changeTimeInfo(t,a,n))}}}))(j),x=function(e){Object(O.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).deleteCourse=n.deleteCourse.bind(Object(D.a)(n)),n.changeCourseInfo=n.changeCourseInfo.bind(Object(D.a)(n)),n.addTime=n.addTime.bind(Object(D.a)(n)),n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.courseItemHTML=document.getElementById("course-item-".concat(this.courseID)),this.courseItemInfoElements=this.courseItemHTML.children[0].children,this.courseNameHTML=this.courseItemInfoElements[0],this.lecturerNameHTML=this.courseItemInfoElements[1],this.courseCodeHTML=this.courseItemInfoElements[2]}},{key:"deleteCourse",value:function(){var e=this;this.courseItemHTML.classList.add("fade-out"),setTimeout((function(){e.props.deleteCourse(e.courseID)}),500)}},{key:"changeCourseInfo",value:function(){this.props.changeCourseInfo({courseID:this.courseID,courseName:this.courseNameHTML.textContent,lecturerName:this.lecturerNameHTML.textContent,courseCode:this.courseCodeHTML.textContent})}},{key:"addTime",value:function(){this.props.addTime(this.courseID)}},{key:"timeItemRenderer",value:function(){var e=this;return Object.keys(this.props.courseTimes).map((function(t){return"nextTimeID"!==t?r.a.createElement(F,{key:t,courseID:e.courseID,timeInfo:e.props.courseTimes[t]}):null}))}},{key:"render",value:function(){return this.courseInfo=this.props.courseInfo,this.courseID=this.courseInfo.courseID,this.courseTimes=this.props.courseTimes,r.a.createElement("div",{className:"course-item course-item--".concat(this.courseID%10,"-theme"),id:"course-item-".concat(this.courseID)},r.a.createElement("div",{className:"course-item__info"},r.a.createElement(L.a,{className:"course-item__info__courseName",id:"course-item__info__courseName-".concat(this.courseID),onChange:this.changeCourseInfo,html:this.courseInfo.courseName,spellCheck:"false"}),r.a.createElement(L.a,{className:"course-item__info__lecturerName",id:"course-item__info__lecturerName-".concat(this.courseID),onChange:this.changeCourseInfo,html:this.courseInfo.lecturerName,spellCheck:"false"}),r.a.createElement(L.a,{className:"course-item__info__courseCode",id:"course-item__info__courseCode-".concat(this.courseID),onChange:this.changeCourseInfo,html:this.courseInfo.courseCode,spellCheck:"false"}),r.a.createElement("div",{className:"course-item__info__buttons"},r.a.createElement("button",{type:"button",className:"course-item__info__buttons__delete-btn",onClick:this.deleteCourse},r.a.createElement("i",{className:"fas fa-trash-alt"})),r.a.createElement("button",{type:"button",className:"course-item__info__buttons__add-button",onClick:this.addTime},r.a.createElement("i",{className:"far fa-clock"})))),r.a.createElement("div",{className:"course-item__seperator"}),r.a.createElement("div",{className:"course-item__times"},this.timeItemRenderer()))}}]),a}(r.a.PureComponent);var B=Object(o.b)(null,(function(e){return{deleteCourse:function(t){return e(k.deleteCourse(t))},changeCourseInfo:function(t){return e(k.changeCourseInfo(t))},addTime:function(t){return e(M.addTime(t))}}}))(x),W=function(e){Object(O.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).addCourse=n.addCourse.bind(Object(D.a)(n)),n.courseItemRenderer=n.courseItemRenderer.bind(Object(D.a)(n)),n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.courseContainer=document.getElementById("course-window__div")}},{key:"addCourse",value:function(){var e=this;this.props.addCourse(),setTimeout((function(){e.courseContainer.scrollTop=e.courseContainer.scrollHeight}),50)}},{key:"courseItemRenderer",value:function(){var e=this.props,t=e.courseItems,a=e.courseTimeItems;return Object.keys(t).map((function(e){return r.a.createElement(B,{key:e,courseInfo:t[e],courseTimes:a[e]})}))}},{key:"render",value:function(){return r.a.createElement("main",{className:"course-window",id:"course-window"},r.a.createElement("div",{className:"course-window__div",id:"course-window__div"},this.courseItemRenderer()),r.a.createElement("button",{type:"button",className:"course-window__add-button",id:"course-window__add-button",onClick:this.addCourse},"+"),r.a.createElement("button",{type:"button",className:"course-window__view-button",id:"course-window__view-button",onClick:this.props.viewTimetable},r.a.createElement("i",{className:"far fa-eye"})))}}]),a}(r.a.Component);var R=Object(o.b)((function(e){return{courseItems:e.courseItems,courseTimeItems:e.courseTimeItems}}),(function(e){return{addCourse:function(){return e(k.addCourse())},viewTimetable:function(){return e(G.viewTimetable())}}}))(W),P=a(13),A=a.n(P),z={rectFactory:function(e,t,a,n,r){return new A.a.Rect({x:e,y:t,width:a,height:n,fill:r,listening:!1})},textFactory:function(e,t,a,n,r,s,i){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"Roboto",c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"normal",l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;return new A.a.Text({text:e,x:t,y:a,width:n,height:r,fontFamily:o,fontSize:s,fontStyle:c,padding:l,align:"center",verticalAlign:"middle",fill:i,listening:!1})}};A.a.showWarnings=!1;var U=z.rectFactory,V=z.textFactory;var J=function(e,t){for(var a=t.gridWidth,n=t.gridHeight,r=t.margin,s=t.dayOfWeeks,i=t.times,o=t.sessions,c=t.themeSettings,l=t.timetableWidth,u=t.timetableHeight,m=t.actualWidth,d=t.actualHeight,g=t.row1GridHeight,h=t.row1ActualHeight,_=c.baseBG,p=c.labelBG,f=c.sideColorBG,E=c.oddRowBG,v=c.evenRowBG,b=c.labelFontColor,I=c.fontFamily;e.firstChild;)e.firstChild.remove();var T=new A.a.Stage({container:e.id,width:l,height:u});T.container().classList.add("timetable__previewer__wrapper");var N=new A.a.Layer({width:l,height:u}),S=new A.a.Layer({width:l,height:u}),w=[],C=[];return w.push(U(0,0,l,u,_)),w.push(U(r,r,m,h,p)),w.push(U(r,g+r,m,h,p)),C.push(V("Time",r,r,m,h,30,b,I)),C.push(V("Session",r,g+r,m,h,30,b,I)),s.forEach((function(e,t){w.push(U(r,n+(n*t+r),m,d,f)),C.push(V(e,r,n+(n*t+r),m,d,28,b,I,"bold"))})),i.forEach((function(e,t){var n="".concat(e,":00 ").concat(e>=8&&e<=11?"a.m":"p.m"),s="".concat(e%12+1,":00 ").concat(e>=8&&e<=10?"a.m":"p.m");w.push(U(a+(a*t+r),r,m,h,f)),C.push(V(n,a+(a*t+r),r,m,h/2,20,b,I)),C.push(V(s,a+(a*t+r),r+h/2,m,h/2,20,b,I))})),o.forEach((function(e,t){w.push(U(a+(a*t+r),g+r,m,h,f)),C.push(V(e,a+(a*t+r),g+r,m,h,30,b,I))})),o.forEach((function(e,t){w.push(U(a+(a*t+r),n+r,m,d,E)),w.push(U(a+(a*t+r),3*n+r,m,d,E)),w.push(U(a+(a*t+r),5*n+r,m,d,E))})),o.forEach((function(e,t){w.push(U(a+(a*t+r),2*n+r,m,d,v)),w.push(U(a+(a*t+r),4*n+r,m,d,v))})),w.forEach((function(e){return N.add(e)})),C.forEach((function(e){return N.add(e)})),T.add(N),T.add(S),N.draw(),T},X=z.rectFactory,Y=z.textFactory;var q={courseName:{heightScale:function(e,t){return e&&t?1:e||t?.75:.5}},lectName:{yOffset:function(e,t){return e?0:t?.75:.5},heightScale:function(e,t){return e&&t?1:t||!e?.25:.5}},courseCode:{yOffset:function(e,t){return e&&t?0:e?.5:.75},heightScale:function(e,t){return e&&t?1:e?.5:.25}}},K=function(e,t,a){var n=a.gridWidth,r=a.gridHeight,s=a.margin,i=a.themeSettings,o=a.courseNameFontSize,c=a.lecturerNameFontSize,l=a.courseCodeFontSize,u=a.actualWidth,m=a.actualHeight,d=i.courseFontColor,g=i.fontFamily,h=i.colorMaps,_=e.getLayers()[1],p=[],f=[];t.forEach((function(e){var t=e.dayOfWeek,a=e.startingSession,i=e.endingSession,_=e.courseObj,E=_.courseName,v=_.lecturerName,b=_.courseCode,I=_.courseID,T=0===E.length,N=0===v.length,S=0===b.length,w=n+a*n+s,C=r+t*r+s,O=(i-a+1)*(u+2*s)-2*s;p.push(X(w,C,O,m,h[I%h.length])),T||f.push(Y(E,w,C,O,m*q.courseName.heightScale(N,S),o,d,g,"normal",3)),N||f.push(Y(v,w,C+m*q.lectName.yOffset(T,S),O,m*q.lectName.heightScale(T,S),c,d,g,"normal",3)),S||f.push(Y(b,w,C+m*q.courseCode.yOffset(T,N),O,m*q.courseCode.heightScale(T,N),l,d,g,"bold",3))})),p.forEach((function(e){return _.add(e)})),f.forEach((function(e){return _.add(e)})),e.add(_)},Q={default:{name:"default",baseBG:"white",labelBG:"#7f8082",sideColorBG:"#70ad46",oddRowBG:"#c6e0b3",evenRowBG:"#a9d08f",labelFontColor:"white",courseFontColor:"white",fontFamily:"Roboto",colorMaps:["#3498db","#6ab04c","#e74c3c","#9b59b6","#34495e","#f1c40f","#3a40b6","#2ecc71","#e67e22","#686de0"]},futuristic:{name:"futuristic",baseBG:"#2ecc71",labelBG:"black",sideColorBG:"black",oddRowBG:"#1b242e",evenRowBG:"#212d3b",labelFontColor:"#29e679",courseFontColor:"#29e679",fontFamily:"Orbitron",colorMaps:["black"]},cuteness:{name:"cuteness",baseBG:"white",labelBG:"#ff7199",sideColorBG:"#ff7199",oddRowBG:"#ffbada",evenRowBG:"#ffe2ea",labelFontColor:"white",courseFontColor:"white",fontFamily:"Grandstander",colorMaps:["#ff90c3"]},spiderman:{name:"spiderman",baseBG:"#cccee3",labelBG:"#0861a3",sideColorBG:"#0268d7",oddRowBG:"#ca141d",evenRowBG:"#b31219",labelFontColor:"white",courseFontColor:"white",fontFamily:"Marvel",colorMaps:["#8f0505"]},nature:{name:"nature",baseBG:"#392c1d",labelBG:"#55422b",sideColorBG:"#907a48",oddRowBG:"#4f6336",evenRowBG:"#4b6b3c",labelFontColor:"#e6deb9",courseFontColor:"#3b2e1e",fontFamily:"Cantora One",colorMaps:["#d4bf88"]}};function Z(e){var t=e.theme,a=e.isIslamicWeekend,n=e.courseNameFontSize,r=e.lecturerNameFontSize,s=e.courseCodeFontSize,i=e.gridWidth,o=e.gridHeight,c=e.noOfSessions;this.gridWidth=i,this.gridHeight=o,this.margin=2,this.dayOfWeeks=function(e){return e?d.slice(0,5):d.slice(1)}(a),this.times=[8,9,10,11,12,1,2,3,4,5,6,7],this.sessions=["02","03","04","05","06","07","08","09","10","11","12","13"],this.themeSettings=Q[t],this.courseNameFontSize=n,this.lecturerNameFontSize=r,this.courseCodeFontSize=s,this.timetableWidth=this.gridWidth*(Number(c)+1),this.timetableHeight=6*this.gridHeight,this.actualWidth=this.gridWidth-2*this.margin,this.actualHeight=this.gridHeight-2*this.margin,this.row1GridHeight=this.gridHeight/2,this.row1ActualHeight=this.row1GridHeight-2*this.margin}var $=function(e){Object(O.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).timetableHTML=r.a.createRef(),n.timetableCanvasWindow=r.a.createRef(),n.closePreviewBtnHandler=n.closePreviewBtnHandler.bind(Object(D.a)(n)),n.downloadBtnHandler=n.downloadBtnHandler.bind(Object(D.a)(n)),n.openTabBtnHandler=n.openTabBtnHandler.bind(Object(D.a)(n)),n}return Object(C.a)(a,[{key:"componentDidUpdate",value:function(){if(this.props.isPreviewOpen){var e=new Z(this.props.settings);this.canvasStage=J(this.timetableCanvasWindow.current,e),K(this.canvasStage,this.props.timetableRenderData,e)}}},{key:"closePreviewBtnHandler",value:function(){var e=this;this.timetableHTML.current.classList.add("transitionOut"),setTimeout((function(){e.timetableHTML.current.classList.remove("transitionOut"),e.props.closePreview()}),800)}},{key:"downloadBtnHandler",value:function(){var e=document.createElement("a");e.download="timetable",e.href=this.canvasStage.toDataURL(),e.click(),e.remove()}},{key:"openTabBtnHandler",value:function(){var e=new Image;e.src=this.canvasStage.toDataURL(),e.onload=function(){var t=window.open();t.document.write("\n            <style>\n                img {\n                    width: 100%;\n                    height: auto;\n                }\n            </style>\n            "+e.outerHTML),t.document.close()}}},{key:"render",value:function(){var e=this.props.isPreviewOpen;return r.a.createElement("div",{className:"timetable ".concat(e?"":"hidden"),ref:this.timetableHTML},r.a.createElement("div",{className:"timetable__previewer",id:"timetable__previewer"},r.a.createElement("button",{type:"button",className:"timetable__previewer__closebtn",id:"timetable__previewer__closebtn",onClick:this.closePreviewBtnHandler},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("div",{className:"timetable__previewer__wrapper",id:"timetable__previewer__wrapper",ref:this.timetableCanvasWindow}),r.a.createElement("div",{className:"timetable__previewer__btnDiv",id:"timetable__previewer__btnDiv"},r.a.createElement("button",{type:"button",className:"timetable__previewer__downloadbtn",id:"timetable__previewer__downloadbtn",onClick:this.downloadBtnHandler},"Download as png"),r.a.createElement("button",{type:"button",className:"timetable__previewer__openTab",id:"timetable__previewer__openTab",onClick:this.openTabBtnHandler},"Open in new tab"))))}}]),a}(r.a.Component);var ee=Object(o.b)((function(e){return{isPreviewOpen:e.isPreviewOpen,timetableRenderData:e.timetableRenderData,settings:e.settings}}),(function(e){return{closePreview:function(){return e(G.closePreview())}}}))($),te={openSetting:function(){return{type:l.OPEN_SETTING}},closeSetting:function(){return{type:l.CLOSE_SETTING}},changeSetting:function(e){return{type:l.CHANGE_SETTING,payload:{settingEvent:e}}},saveSetting:function(){return{type:l.SAVE_SETTING}},loadSetting:function(){return{type:l.LOAD_SETTING}},delSetting:function(){return{type:l.DEL_SETTING}}};var ae=function(e){return r.a.createElement("div",{className:"settings__category settings__savedel"},r.a.createElement("h4",{className:"settings__category__title"},r.a.createElement("span",{role:"img","aria-label":"disk logo"},"\ud83d\udcbe"),"Manage Timetable",r.a.createElement("span",{role:"img","aria-label":"disk logo"},"\ud83d\udcbe")),r.a.createElement("div",{className:"settings__savedel__wrapper"},r.a.createElement("div",{className:"settings__savedel__div"},r.a.createElement("label",{htmlFor:"save_timetable"},"Save"),r.a.createElement("button",{className:"settings__savedel__btn",onClick:e.saveSetting,title:"Save Timetable"},r.a.createElement("i",{className:"fas fa-save"}))),r.a.createElement("div",{className:"settings__savedel__div"},r.a.createElement("label",{htmlFor:"load_timetable"},"Load"),r.a.createElement("button",{className:"settings__savedel__btn",onClick:e.loadSetting,title:"Load Timetable"},r.a.createElement("i",{className:"fas fa-upload"}))),r.a.createElement("div",{className:"settings__savedel__div"},r.a.createElement("label",{htmlFor:"delete_timetable"},"Delete"),r.a.createElement("button",{className:"settings__savedel__btn",onClick:e.delSetting,title:"Clear Timetable"},r.a.createElement("i",{className:"fas fa-trash-alt"})))))};var ne=function(e){return r.a.createElement("div",{className:"settings__category settings__general"},r.a.createElement("h4",{className:"settings__category__title"},"General"),r.a.createElement("div",{className:"settings__general__wrapper"},r.a.createElement("div",{className:"settings__general__theme"},r.a.createElement("p",{className:"settings__general__subtitle"},r.a.createElement("span",{role:"img","aria-label":"color palette logo"},"\ud83c\udfa8"),"Theme",r.a.createElement("span",{role:"img","aria-label":"color palette logo"},"\ud83c\udfa8")),r.a.createElement("select",{className:"settings__general__select",value:e.theme,id:"theme",onChange:e.changeSetting,title:"Preset color theme for your timetable"},r.a.createElement("option",{value:"default"},"Default"),r.a.createElement("option",{value:"futuristic"},"Futuristic"),r.a.createElement("option",{value:"cuteness"},"Cuteness"),r.a.createElement("option",{value:"spiderman"},"Spiderman"),r.a.createElement("option",{value:"nature"},"Nature"))),r.a.createElement("div",{className:"settings__general__weekend"},r.a.createElement("p",{className:"settings__general__subtitle"},r.a.createElement("span",{role:"img","aria-label":"calendar logo"},"\ud83d\udcc5"),"Weekend",r.a.createElement("span",{role:"img","aria-label":"calendar logo"},"\ud83d\udcc5")),r.a.createElement("select",{className:"settings__general__select",value:e.isIslamicWeekend?0:1,id:"weekend",onChange:e.changeSetting,title:"Select the 2 weekends according to your Malaysia State"},r.a.createElement("option",{value:"0"},"Friday / Saturday"),r.a.createElement("option",{value:"1"},"Saturday / Sunday")))),r.a.createElement("div",{className:"settings__general__wrapper"},r.a.createElement("div",{className:"settings__general__columns"},r.a.createElement("h4",{className:"settings__general__subtitle"},"No. of Columns"),r.a.createElement("select",{className:"settings__noSessions__select",id:"noOfSessions",value:e.noOfSessions,onChange:e.changeSetting,title:"How many column will exist in your timetable"},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"6"},"6"),r.a.createElement("option",{value:"7"},"7"),r.a.createElement("option",{value:"8"},"8"),r.a.createElement("option",{value:"9"},"9"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"11"},"11"),r.a.createElement("option",{value:"12"},"12")))))};var re=function(e){var t=e.settings,a=t.courseNameFontSize,n=t.lecturerNameFontSize,s=t.courseCodeFontSize,i=t.gridWidth,o=t.gridHeight,c=e.renderProp,l=e.changeSetting;return r.a.createElement("div",{className:"settings__category settings__gridProps"},r.a.createElement("h4",{className:"settings__category__title"},r.a.createElement("span",{role:"img","aria-label":"ruler logo"},"\ud83d\udccf"),"Grid Properties",r.a.createElement("span",{role:"img","aria-label":"ruler logo"},"\ud83d\udccf")),r.a.createElement("div",{className:"settings__gridProps__wrapper"},r.a.createElement("div",{className:"settings__gridProps__inputGroup"},r.a.createElement("label",{htmlFor:"gridWidth"},"Grid Width"),r.a.createElement("input",{type:"number",id:"gridWidth",value:i,min:"0",max:"400",onChange:l})),r.a.createElement("div",{className:"settings__gridProps__inputGroup"},r.a.createElement("label",{htmlFor:"gridHeight"},"Grid Height"),r.a.createElement("input",{type:"number",id:"gridHeight",value:o,min:"0",max:"400",onChange:l}))),r.a.createElement("div",{className:"settings__gridProps__wrapper"},r.a.createElement("div",{className:"settings__gridProps__inputGroup"},r.a.createElement("label",{htmlFor:"courseName-fontsize"},"Course Name Font size"),r.a.createElement("input",{type:"number",id:"courseName-fontsize",value:a,min:"0",max:"70",onChange:l})),r.a.createElement("div",{className:"settings__gridProps__inputGroup"},r.a.createElement("label",{htmlFor:"lecturerName-fontsize"},"Lecturer Name Font size"),r.a.createElement("input",{type:"number",id:"lecturerName-fontsize",value:n,min:"0",max:"70",onChange:l})),r.a.createElement("div",{className:"settings__gridProps__inputGroup"},r.a.createElement("label",{htmlFor:"courseCode-fontsize"},"Course Code Font size"),r.a.createElement("input",{type:"number",id:"courseCode-fontsize",value:s,min:"0",max:"70",onChange:l}))),r.a.createElement("h4",{className:"settings__category__title"},"Example Grid"),r.a.createElement("div",{style:{fontFamily:c.fontFamily,backgroundColor:c.sideColorBG,color:c.labelFontColor,border:"solid 4px ".concat(c.baseBG),width:i,height:o},className:"settings__gridProps__preview"},r.a.createElement("p",{style:{fontSize:a}},"Engineering Basics"),r.a.createElement("p",{style:{fontSize:n}},"Dr. Ali bin Ahmed"),r.a.createElement("p",{style:{fontSize:s}},"AC20142")))},se=function(e){Object(O.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={renderProperties:Q[n.props.settings.theme]},n.settingHTML=r.a.createRef(),n.closeSettingButtonHandler=n.closeSettingButtonHandler.bind(Object(D.a)(n)),n}return Object(C.a)(a,[{key:"closeSettingButtonHandler",value:function(){var e=this;this.settingHTML.current.classList.add("transitionOut"),setTimeout((function(){e.settingHTML.current.classList.remove("transitionOut"),e.props.closeSetting()}),800)}},{key:"render",value:function(){var e=this.props.settings,t=e.gridWidth,a=e.gridHeight,n=e.noOfSessions;return r.a.createElement("div",{className:"settings ".concat(this.props.isSettingOpen?"":"hidden"),id:"settings",ref:this.settingHTML},r.a.createElement("button",{type:"button",className:"settings__closebtn",id:"settings__closebtn",onClick:this.closeSettingButtonHandler},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("h3",{className:"settings__title"},r.a.createElement("span",{role:"img","aria-label":"spanner logo"},"\ud83d\udee0\ufe0f"),"Settings",r.a.createElement("span",{role:"img","aria-label":"spanner logo"},"\ud83d\udee0\ufe0f")),r.a.createElement("p",{className:"settings__version"},"Version: v ",this.props.version),r.a.createElement("p",{className:"settings__sizeEstimateMsg"},"Your timetable should be of size:",r.a.createElement("br",null),r.a.createElement("span",{className:"settings__sizeEstimateMsg__value"},"".concat(t*(Number(n)+1),"px ")),"x",r.a.createElement("span",{className:"settings__sizeEstimateMsg__value"}," ".concat(6*a,"px"))),r.a.createElement("div",{className:"settings__wrapper"},r.a.createElement(ae,{saveSetting:this.props.saveSetting,loadSetting:this.props.loadSetting,delSetting:this.props.delSetting}),r.a.createElement(ne,{theme:this.props.settings.theme,isIslamicWeekend:this.props.settings.isIslamicWeekend,noOfSessions:this.props.settings.noOfSessions,changeSetting:this.props.changeSetting}),r.a.createElement(re,{settings:this.props.settings,renderProp:this.state.renderProperties,changeSetting:this.props.changeSetting})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.settings.theme===t.renderProperties.name?t:Object.assign({},t,{renderProperties:Q[e.settings.theme]})}}]),a}(r.a.PureComponent);var ie=Object(o.b)((function(e){return{version:e.version,isSettingOpen:e.isSettingOpen,settings:e.settings}}),(function(e){return{closeSetting:function(){return e(te.closeSetting())},changeSetting:function(t){return e(te.changeSetting(t))},saveSetting:function(){return e(te.saveSetting())},loadSetting:function(){return e(te.loadSetting())},delSetting:function(){return e(te.delSetting())}}}))(se);var oe=Object(o.b)((function(e){return{isBlocking:e.isPreviewOpen||e.isSettingOpen}}),null)((function(e){return r.a.createElement("div",{className:"blocker ".concat(e.isBlocking?"blocking":"")})})),ce=function(e){Object(O.a)(a,e);var t=Object(y.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container",id:"container"},r.a.createElement("header",{className:"header",id:"header"},r.a.createElement("img",{className:"header__logo",id:"header__logo",src:"https://upload.wikimedia.org/wikipedia/commons/8/81/UTM-LOGO.png",alt:"Logo of UTM"}),r.a.createElement("h1",{className:"header__title",id:"header__title"},"UTM Timetable Generator"),r.a.createElement("button",{className:"header__setting",id:"header__setting",type:"button",onClick:this.props.openSetting},r.a.createElement("i",{className:"fas fa-cog header__setting__cog1"}),r.a.createElement("i",{className:"fas fa-cog header__setting__cog2"}))),r.a.createElement(oe,null),r.a.createElement(R,null),r.a.createElement(ee,null),r.a.createElement(ie,null),r.a.createElement("footer",{className:"footer",id:"footer"},r.a.createElement("a",{href:"https://github.com/AdmiJW/UTM_Timetable_Generator/issues",target:"_blank",rel:"noopener noreferrer",className:"footer__support",id:"footer__support"},r.a.createElement("h3",{className:"footer__support__text"},"Support"),r.a.createElement("img",{className:"footer__support__logo",src:"https://icons-for-free.com/iconfiles/png/512/github+hub+icon+icon-1320194641335079152.png",alt:"github logo"})),r.a.createElement("p",{className:"footer__desc"},"An open source project")))}}]),a}(r.a.Component);var le=Object(o.b)(null,(function(e){return{openSetting:function(){return e(te.openSetting())}}}))(ce),ue=a(36),me=a.n(ue);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:S},r.a.createElement(le,null))),document.getElementById("root"));["Orbitron","Roboto","Grandstander","Marvel","Cantora One"].forEach((function(e){new me.a(e).load().then((function(e){})).catch((function(t){console.log("Loading of Web Font '"+e+"' Failed!")}))}))}},[[37,1,2]]]);
//# sourceMappingURL=main.60caa6d2.chunk.js.map