(this.webpackJsonputm_timetable_gen=this.webpackJsonputm_timetable_gen||[]).push([[0],{37:function(e,t,n){e.exports=n(85)},46:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(16),o=n.n(s),i=n(8),c=n(17),l={ADD_COURSE:"ADD_COURSE",DELETE_COURSE:"DELETE_COURSE",CHANGE_COURSE_INFO:"CHANGE_COURSE_INFO",ADD_TIME:"ADD_TIME",DELETE_TIME:"DELETE_TIME",CHANGE_TIME_INFO:"CHANGE_TIME_INFO",VIEW_TIMETABLE:"VIEW_TIMETABLE",CLOSE_PREVIEW:"CLOSE_PREVIEW",OPEN_SETTING:"OPEN_SETTING",CLOSE_SETTING:"CLOSE_SETTING",CHANGE_SETTING:"CHANGE_SETTING",SAVE_SETTING:"SAVE_SETTING",LOAD_SETTING:"LOAD_SETTING",DEL_SETTING:"DEL_SETTING"};function u(e,t){var n=[[],[],[],[],[]];for(var a in e){var r=e[a],s=t[a];for(var o in s)if("nextTimeID"!==o){var i=parseInt(s[o].dayOfWeek),c=parseInt(s[o].session),l=n[i][c];if(void 0!==l){var u=new Error;throw u.course1=l,u.course2=r,u.row=i,u.col=c,u}n[i][c]=r}}return n}var m=function(e){for(var t=e.length,n=e.reduce((function(e,t){return Math.max(t.length,e)}),0),a=[],r=0;r<t;r++)for(var s=0;s<n;){if(void 0!==e[r][s]){for(var o={dayOfWeek:r,startingSession:s,endingSession:s,courseObj:e[r][s]};s+1<n&&e[r][s+1]===o.courseObj;)s++,o.endingSession=s;a.push(o)}s++}return a},d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"],g=["02","03","04","05","06","07","08","09","10","11","12"],h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?d[e+(t?0:1)]:d.indexOf(e)-(t?0:1)},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?g[e]:g.indexOf(e)},p={version:"1.0.0",isPreviewOpen:!1,isSettingOpen:!1,nextCourseID:1,courseItems:{0:{courseID:0,courseName:"Enter Course Name",lecturerName:"Enter Lecturer Name",courseCode:"Enter Course Code"}},courseTimeItems:{0:{0:{timeID:0,dayOfWeek:0,session:0},nextTimeID:1}},timetableRenderData:null,settings:{theme:"default",isIslamicWeekend:!0,courseNameFontSize:25,lecturerNameFontSize:15,courseCodeFontSize:13,gridWidth:200,gridHeight:150,noOfSessions:11}},f=window.localStorage.getItem("version"),E=window.localStorage.getItem("nextCourseID"),v=JSON.parse(window.localStorage.getItem("courseItems")),b=JSON.parse(window.localStorage.getItem("courseTimeItems")),I=JSON.parse(window.localStorage.getItem("settings"));f&&f===p.version?E&&v&&b&&I&&(p.nextCourseID=parseInt(E),p.courseItems=v,p.courseTimeItems=b,p.settings=I):window.localStorage.clear();var S=function(e){return{courseID:e++,courseName:"",lecturerName:"",courseCode:""}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=e.courseItems,a=e.courseTimeItems;switch(t.type){case l.ADD_COURSE:var r=S(e.nextCourseID);return(n=Object.assign({},n))[r.courseID]=r,(a=Object.assign({},a))[r.courseID]={nextTimeID:0},Object.assign({},e,{courseItems:n,courseTimeItems:a,nextCourseID:e.nextCourseID+1});case l.DELETE_COURSE:var s=t.payload.courseIndexToDel;return delete(n=Object.assign({},n))[s],delete(a=Object.assign({},a))[s],Object.assign({},e,{courseItems:n,courseTimeItems:a});case l.CHANGE_COURSE_INFO:var o=t.payload.newInfoValues,i=o.courseID;return(n=Object.assign({},n))[i]=o,Object.assign({},e,{courseItems:n});case l.ADD_TIME:var c=t.payload.courseIndexToAdd,d=a[c].nextTimeID,g=Object.assign({},a[c],{nextTimeID:d+1});return g[d]={timeID:d,dayOfWeek:0,session:0},(a=Object.assign({},a))[c]=g,Object.assign({},e,{courseTimeItems:a});case l.DELETE_TIME:var f=t.payload,E=f.courseIndexToDel,v=f.timeIndexToDel,b=Object.assign({},a[E]);return delete b[v],(a=Object.assign({},a))[E]=b,Object.assign({},e,{courseTimeItems:a});case l.CHANGE_TIME_INFO:var I=t.payload,T=I.courseIndexToChange,w=I.timeIndexToChange,N=I.newTimeValues,C=Object.assign({},a[T]);return C[w]=N,(a=Object.assign({},a))[T]=C,Object.assign({},e,{courseTimeItems:a});case l.VIEW_TIMETABLE:var O=null;try{O=u(e.courseItems,e.courseTimeItems)}catch(M){return window.alert("Clashing Timetable Detected!\nThe course:\n\n"+"".concat(M.course1.courseName,", ").concat(M.course1.lecturerName,", ").concat(M.course1.courseCode,"\n\n")+"Clashes with:\n\n"+"".concat(M.course2.courseName,", ").concat(M.course2.lecturerName,", ").concat(M.course2.courseCode,"\n\n")+"At timeslot:\n"+"   ".concat(h(M.row,e.settings.isIslamicWeekend,!0),", ").concat(_(M.col,!0))),e}var y=m(O);return Object.assign({},e,{timetableRenderData:y,isPreviewOpen:!0});case l.CLOSE_PREVIEW:return Object.assign({},e,{isPreviewOpen:!1});case l.OPEN_SETTING:return Object.assign({},e,{isSettingOpen:!0});case l.CLOSE_SETTING:return Object.assign({},e,{isSettingOpen:!1});case l.CHANGE_SETTING:var D=t.payload.settingEvent.target,k=Object.assign({},e.settings);switch(D.id){case"theme":k.theme=D.value;break;case"weekend":k.isIslamicWeekend="0"===D.value;break;case"courseName-fontsize":k.courseNameFontSize=Math.min(70,Math.max(D.value,0));break;case"lecturerName-fontsize":k.lecturerNameFontSize=Math.min(70,Math.max(D.value,0));break;case"courseCode-fontsize":k.courseCodeFontSize=Math.min(70,Math.max(D.value,0));break;case"noOfSessions":k.noOfSessions=D.value;break;case"gridWidth":k.gridWidth=Math.min(400,Math.max(D.value,0));break;case"gridHeight":k.gridHeight=Math.min(400,Math.max(D.value,0));break;default:return e}return Object.assign({},e,{settings:k});case l.SAVE_SETTING:try{window.localStorage.setItem("version",e.version),window.localStorage.setItem("nextCourseID",e.nextCourseID),window.localStorage.setItem("courseItems",JSON.stringify(e.courseItems)),window.localStorage.setItem("courseTimeItems",JSON.stringify(e.courseTimeItems)),window.localStorage.setItem("settings",JSON.stringify(e.settings)),window.alert("Course Informations and Settings Saved To Local Storage!")}catch(F){window.alert("Unable to save to local Storage")}return e;case l.LOAD_SETTING:try{var G=parseInt(window.localStorage.getItem("nextCourseID")),H=JSON.parse(window.localStorage.getItem("courseItems")),L=JSON.parse(window.localStorage.getItem("courseTimeItems")),j=JSON.parse(window.localStorage.getItem("settings"));if(!G||!H||!L||!j)throw Error;return window.alert("Successfully loaded saved state from local storage"),Object.assign({},e,{nextCourseID:G,courseItems:H,courseTimeItems:L,settings:j})}catch(x){window.alert("Unable to load from local Storage")}return e;case l.DEL_SETTING:return window.localStorage.removeItem("nextCourseID"),window.localStorage.removeItem("courseItems"),window.localStorage.removeItem("courseTimeItems"),window.localStorage.removeItem("settings"),window.alert("Successfully cleared saved state from local storage!"),e;default:return e}},w=Object(c.b)(T,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),N=(n(46),n(9)),C=n(10),O=n(12),y=n(11),D=n(7),k={addCourse:function(){return{type:l.ADD_COURSE}},deleteCourse:function(e){return{type:l.DELETE_COURSE,payload:{courseIndexToDel:e}}},changeCourseInfo:function(e){return{type:l.CHANGE_COURSE_INFO,payload:{newInfoValues:e}}}},G={viewTimetable:function(){return{type:l.VIEW_TIMETABLE}},closePreview:function(){return{type:l.CLOSE_PREVIEW}}},H=n(18),L=n.n(H),j={addTime:function(e){return{type:l.ADD_TIME,payload:{courseIndexToAdd:e}}},deleteTime:function(e,t){return{type:l.DELETE_TIME,payload:{courseIndexToDel:e,timeIndexToDel:t}}},changeTimeInfo:function(e,t,n){return{type:l.CHANGE_TIME_INFO,payload:{courseIndexToChange:e,timeIndexToChange:t,newTimeValues:n}}}},M=function(e){Object(O.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(N.a)(this,n),(a=t.call(this,e)).deleteTime=a.deleteTime.bind(Object(D.a)(a)),a.changeTimeInfo=a.changeTimeInfo.bind(Object(D.a)(a)),a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.timeItemHTML=document.getElementById("course-item__times__entry-".concat(this.props.courseID,"-").concat(this.props.timeInfo.timeID)),this.timeDayOfWeekHTML=this.timeItemHTML.children[1],this.timeSessionHTML=this.timeItemHTML.children[2]}},{key:"deleteTime",value:function(){var e=this;this.timeItemHTML.classList.add("fade-out"),setTimeout((function(){e.props.deleteTime(e.props.courseID,e.props.timeInfo.timeID)}),500)}},{key:"changeTimeInfo",value:function(){this.props.changeTimeInfo(this.props.courseID,this.props.timeInfo.timeID,{timeID:this.props.timeInfo.timeID,dayOfWeek:this.timeDayOfWeekHTML.value,session:this.timeSessionHTML.value})}},{key:"render",value:function(){var e=this.props,t=e.isIslamicWeekend,n=e.courseID,a=this.props.timeInfo,s=a.timeID,o=a.dayOfWeek,i=a.session;return r.a.createElement("div",{className:"course-item__times__entry",id:"course-item__times__entry-".concat(n,"-").concat(s)},r.a.createElement("button",{type:"button",className:"course-item__times__entry__delete-button",onClick:this.deleteTime},"X"),r.a.createElement("select",{className:"course-item__times__entry__dayOfWeek",value:o,onChange:this.changeTimeInfo},r.a.createElement("option",{value:"0"},h(0,t,!0)),r.a.createElement("option",{value:"1"},h(1,t,!0)),r.a.createElement("option",{value:"2"},h(2,t,!0)),r.a.createElement("option",{value:"3"},h(3,t,!0)),r.a.createElement("option",{value:"4"},h(4,t,!0))),r.a.createElement("select",{className:"course-item__times__entry__session",value:i,onChange:this.changeTimeInfo},r.a.createElement("option",{value:"0"},"02 (8:00am - 8:50am)"),r.a.createElement("option",{value:"1"},"03 (9:00am - 9:50am)"),r.a.createElement("option",{value:"2"},"04 (10:00am - 10:50am)"),r.a.createElement("option",{value:"3"},"05 (11:00am - 11:50am)"),r.a.createElement("option",{value:"4"},"06 (12:00pm - 12:50pm)"),r.a.createElement("option",{value:"5"},"07 (1:00pm - 1:50pm)"),r.a.createElement("option",{value:"6"},"08 (2:00pm - 2:50pm)"),r.a.createElement("option",{value:"7"},"09 (3:00pm - 3:50pm)"),r.a.createElement("option",{value:"8"},"10 (4:00pm - 4:50pm)"),r.a.createElement("option",{value:"9"},"11 (5:00pm - 5:50pm)"),r.a.createElement("option",{value:"10"},"12 (6:00pm - 6:50pm)")))}}]),n}(r.a.PureComponent);var F=Object(i.b)((function(e){return{isIslamicWeekend:e.settings.isIslamicWeekend}}),(function(e){return{deleteTime:function(t,n){return e(j.deleteTime(t,n))},changeTimeInfo:function(t,n,a){return e(j.changeTimeInfo(t,n,a))}}}))(M),x=function(e){Object(O.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(N.a)(this,n),(a=t.call(this,e)).deleteCourse=a.deleteCourse.bind(Object(D.a)(a)),a.changeCourseInfo=a.changeCourseInfo.bind(Object(D.a)(a)),a.addTime=a.addTime.bind(Object(D.a)(a)),a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.courseItemHTML=document.getElementById("course-item-".concat(this.courseID)),this.courseItemInfoElements=this.courseItemHTML.children[0].children,this.courseNameHTML=this.courseItemInfoElements[0],this.lecturerNameHTML=this.courseItemInfoElements[1],this.courseCodeHTML=this.courseItemInfoElements[2]}},{key:"deleteCourse",value:function(){var e=this;this.courseItemHTML.classList.add("fade-out"),setTimeout((function(){e.props.deleteCourse(e.courseID)}),500)}},{key:"changeCourseInfo",value:function(){this.props.changeCourseInfo({courseID:this.courseID,courseName:this.courseNameHTML.textContent,lecturerName:this.lecturerNameHTML.textContent,courseCode:this.courseCodeHTML.textContent})}},{key:"addTime",value:function(){this.props.addTime(this.courseID)}},{key:"timeItemRenderer",value:function(){var e=this;return Object.keys(this.props.courseTimes).map((function(t){return"nextTimeID"!==t?r.a.createElement(F,{key:t,courseID:e.courseID,timeInfo:e.props.courseTimes[t]}):null}))}},{key:"render",value:function(){return this.courseInfo=this.props.courseInfo,this.courseID=this.courseInfo.courseID,this.courseTimes=this.props.courseTimes,r.a.createElement("div",{className:"course-item course-item--".concat(this.courseID%10,"-theme"),id:"course-item-".concat(this.courseID)},r.a.createElement("div",{className:"course-item__info"},r.a.createElement(L.a,{className:"course-item__info__courseName",id:"course-item__info__courseName-".concat(this.courseID),onChange:this.changeCourseInfo,html:this.courseInfo.courseName,spellCheck:"false"}),r.a.createElement(L.a,{className:"course-item__info__lecturerName",id:"course-item__info__lecturerName-".concat(this.courseID),onChange:this.changeCourseInfo,html:this.courseInfo.lecturerName,spellCheck:"false"}),r.a.createElement(L.a,{className:"course-item__info__courseCode",id:"course-item__info__courseCode-".concat(this.courseID),onChange:this.changeCourseInfo,html:this.courseInfo.courseCode,spellCheck:"false"}),r.a.createElement("div",{className:"course-item__info__buttons"},r.a.createElement("button",{type:"button",className:"course-item__info__buttons__delete-btn",onClick:this.deleteCourse},r.a.createElement("i",{className:"fas fa-trash-alt"})),r.a.createElement("button",{type:"button",className:"course-item__info__buttons__add-button",onClick:this.addTime},"+"))),r.a.createElement("div",{className:"course-item__seperator"}),r.a.createElement("div",{className:"course-item__times"},this.timeItemRenderer()))}}]),n}(r.a.PureComponent);var B=Object(i.b)(null,(function(e){return{deleteCourse:function(t){return e(k.deleteCourse(t))},changeCourseInfo:function(t){return e(k.changeCourseInfo(t))},addTime:function(t){return e(j.addTime(t))}}}))(x),W=function(e){Object(O.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(N.a)(this,n),(a=t.call(this,e)).addCourse=a.addCourse.bind(Object(D.a)(a)),a.courseItemRenderer=a.courseItemRenderer.bind(Object(D.a)(a)),a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.courseContainer=document.getElementById("course-window__div")}},{key:"addCourse",value:function(){var e=this;this.props.addCourse(),setTimeout((function(){e.courseContainer.scrollTop=e.courseContainer.scrollHeight}),50)}},{key:"courseItemRenderer",value:function(){var e=this.props,t=e.courseItems,n=e.courseTimeItems;return Object.keys(t).map((function(e){return r.a.createElement(B,{key:e,courseInfo:t[e],courseTimes:n[e]})}))}},{key:"render",value:function(){return r.a.createElement("main",{className:"course-window",id:"course-window"},r.a.createElement("div",{className:"course-window__div",id:"course-window__div"},this.courseItemRenderer()),r.a.createElement("button",{type:"button",className:"course-window__add-button",id:"course-window__add-button",onClick:this.addCourse},"+"),r.a.createElement("button",{type:"button",className:"course-window__view-button",id:"course-window__view-button",onClick:this.props.viewTimetable},r.a.createElement("i",{className:"far fa-eye"})))}}]),n}(r.a.Component);var R=Object(i.b)((function(e){return{courseItems:e.courseItems,courseTimeItems:e.courseTimeItems}}),(function(e){return{addCourse:function(){return e(k.addCourse())},viewTimetable:function(){return e(G.viewTimetable())}}}))(W),P=n(13),A=n.n(P),z={rectFactory:function(e,t,n,a,r){return new A.a.Rect({x:e,y:t,width:n,height:a,fill:r,listening:!1})},textFactory:function(e,t,n,a,r,s,o){var i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"Roboto",c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"normal",l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;return new A.a.Text({text:e,x:t,y:n,width:a,height:r,fontFamily:i,fontSize:s,fontStyle:c,padding:l,align:"center",verticalAlign:"middle",fill:o,listening:!1})}};A.a.showWarnings=!1;var U=z.rectFactory,V=z.textFactory;var J=function(e,t){for(var n=t.gridWidth,a=t.gridHeight,r=t.margin,s=t.dayOfWeeks,o=t.times,i=t.sessions,c=t.themeSettings,l=t.timetableWidth,u=t.timetableHeight,m=t.actualWidth,d=t.actualHeight,g=t.row1GridHeight,h=t.row1ActualHeight,_=c.baseBG,p=c.labelBG,f=c.sideColorBG,E=c.oddRowBG,v=c.evenRowBG,b=c.labelFontColor,I=c.fontFamily;e.firstChild;)e.firstChild.remove();var S=new A.a.Stage({container:e.id,width:l,height:u});S.container().classList.add("timetable__previewer__wrapper");var T=new A.a.Layer({width:l,height:u}),w=new A.a.Layer({width:l,height:u}),N=[],C=[];return N.push(U(0,0,l,u,_)),N.push(U(r,r,m,h,p)),N.push(U(r,g+r,m,h,p)),C.push(V("Time",r,r,m,h,30,b,I)),C.push(V("Session",r,g+r,m,h,30,b,I)),s.forEach((function(e,t){N.push(U(r,a+(a*t+r),m,d,f)),C.push(V(e,r,a+(a*t+r),m,d,28,b,I,"bold"))})),o.forEach((function(e,t){var a="".concat(e,":00 ").concat(e>=8&&12!==e?"a.m":"p.m"),s="".concat(e,":50 ").concat(e>=8&&12!==e?"a.m":"p.m");N.push(U(n+(n*t+r),r,m,h,f)),C.push(V(a,n+(n*t+r),r,m,h/2,20,b,I)),C.push(V(s,n+(n*t+r),r+h/2,m,h/2,20,b,I))})),i.forEach((function(e,t){N.push(U(n+(n*t+r),g+r,m,h,f)),C.push(V(e,n+(n*t+r),g+r,m,h,30,b,I))})),i.forEach((function(e,t){N.push(U(n+(n*t+r),a+r,m,d,E)),N.push(U(n+(n*t+r),3*a+r,m,d,E)),N.push(U(n+(n*t+r),5*a+r,m,d,E))})),i.forEach((function(e,t){N.push(U(n+(n*t+r),2*a+r,m,d,v)),N.push(U(n+(n*t+r),4*a+r,m,d,v))})),N.forEach((function(e){return T.add(e)})),C.forEach((function(e){return T.add(e)})),S.add(T),S.add(w),T.draw(),S},X=z.rectFactory,Y=z.textFactory;var q={courseName:{heightScale:function(e,t){return e&&t?1:e||t?.75:.5}},lectName:{yOffset:function(e,t){return e?0:t?.75:.5},heightScale:function(e,t){return e&&t?1:t||!e?.25:.5}},courseCode:{yOffset:function(e,t){return e&&t?0:e?.5:.75},heightScale:function(e,t){return e&&t?1:e?.5:.25}}},K=function(e,t,n){var a=n.gridWidth,r=n.gridHeight,s=n.margin,o=n.themeSettings,i=n.courseNameFontSize,c=n.lecturerNameFontSize,l=n.courseCodeFontSize,u=n.actualWidth,m=n.actualHeight,d=o.courseFontColor,g=o.fontFamily,h=o.colorMaps,_=e.getLayers()[1],p=[],f=[];t.forEach((function(e){var t=e.dayOfWeek,n=e.startingSession,o=e.endingSession,_=e.courseObj,E=_.courseName,v=_.lecturerName,b=_.courseCode,I=_.courseID,S=0===E.length,T=0===v.length,w=0===b.length,N=a+n*a+s,C=r+t*r+s,O=(o-n+1)*(u+2*s)-2*s;p.push(X(N,C,O,m,h[I%h.length])),S||f.push(Y(E,N,C,O,m*q.courseName.heightScale(T,w),i,d,g,"normal",3)),T||f.push(Y(v,N,C+m*q.lectName.yOffset(S,w),O,m*q.lectName.heightScale(S,w),c,d,g,"normal",3)),w||f.push(Y(b,N,C+m*q.courseCode.yOffset(S,T),O,m*q.courseCode.heightScale(S,T),l,d,g,"bold",3))})),p.forEach((function(e){return _.add(e)})),f.forEach((function(e){return _.add(e)})),e.add(_)},Q={default:{name:"default",baseBG:"white",labelBG:"#7f8082",sideColorBG:"#70ad46",oddRowBG:"#c6e0b3",evenRowBG:"#a9d08f",labelFontColor:"white",courseFontColor:"white",fontFamily:"Roboto",colorMaps:["#3498db","#6ab04c","#e74c3c","#9b59b6","#34495e","#f1c40f","#3a40b6","#2ecc71","#e67e22","#686de0"]},futuristic:{name:"futuristic",baseBG:"#2ecc71",labelBG:"black",sideColorBG:"black",oddRowBG:"#1b242e",evenRowBG:"#212d3b",labelFontColor:"#29e679",courseFontColor:"#29e679",fontFamily:"Orbitron",colorMaps:["black"]},cuteness:{name:"cuteness",baseBG:"white",labelBG:"#ff7199",sideColorBG:"#ff7199",oddRowBG:"#ffbada",evenRowBG:"#ffe2ea",labelFontColor:"white",courseFontColor:"white",fontFamily:"Grandstander",colorMaps:["#ff90c3"]},spiderman:{name:"spiderman",baseBG:"#cccee3",labelBG:"#0861a3",sideColorBG:"#0268d7",oddRowBG:"#ca141d",evenRowBG:"#b31219",labelFontColor:"white",courseFontColor:"white",fontFamily:"Marvel",colorMaps:["#8f0505"]},nature:{name:"nature",baseBG:"#392c1d",labelBG:"#55422b",sideColorBG:"#907a48",oddRowBG:"#4f6336",evenRowBG:"#4b6b3c",labelFontColor:"#e6deb9",courseFontColor:"#3b2e1e",fontFamily:"Cantora One",colorMaps:["#d4bf88"]}};function Z(e){var t=e.theme,n=e.isIslamicWeekend,a=e.courseNameFontSize,r=e.lecturerNameFontSize,s=e.courseCodeFontSize,o=e.gridWidth,i=e.gridHeight,c=e.noOfSessions;this.gridWidth=o,this.gridHeight=i,this.margin=2,this.dayOfWeeks=function(e){return e?d.slice(0,5):d.slice(1)}(n),this.times=[8,9,10,11,12,1,2,3,4,5,6],this.sessions=["02","03","04","05","06","07","08","09","10","11","12"],this.themeSettings=Q[t],this.courseNameFontSize=a,this.lecturerNameFontSize=r,this.courseCodeFontSize=s,this.timetableWidth=this.gridWidth*(Number(c)+1),this.timetableHeight=6*this.gridHeight,this.actualWidth=this.gridWidth-2*this.margin,this.actualHeight=this.gridHeight-2*this.margin,this.row1GridHeight=this.gridHeight/2,this.row1ActualHeight=this.row1GridHeight-2*this.margin}var $=function(e){Object(O.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(N.a)(this,n),(a=t.call(this,e)).timetableHTML=r.a.createRef(),a.timetableCanvasWindow=r.a.createRef(),a.closePreviewBtnHandler=a.closePreviewBtnHandler.bind(Object(D.a)(a)),a.downloadBtnHandler=a.downloadBtnHandler.bind(Object(D.a)(a)),a.openTabBtnHandler=a.openTabBtnHandler.bind(Object(D.a)(a)),a}return Object(C.a)(n,[{key:"componentDidUpdate",value:function(){if(this.props.isPreviewOpen){var e=new Z(this.props.settings);this.canvasStage=J(this.timetableCanvasWindow.current,e),K(this.canvasStage,this.props.timetableRenderData,e)}}},{key:"closePreviewBtnHandler",value:function(){var e=this;this.timetableHTML.current.classList.add("transitionOut"),setTimeout((function(){e.timetableHTML.current.classList.remove("transitionOut"),e.props.closePreview()}),800)}},{key:"downloadBtnHandler",value:function(){var e=document.createElement("a");e.download="timetable",e.href=this.canvasStage.toDataURL(),e.click(),e.remove()}},{key:"openTabBtnHandler",value:function(){var e=window.open();e.opener=null;var t=new Image;t.src=this.canvasStage.toDataURL(),t.onload=function(){e.document.write("\n                <a style='display: inline-block; font-size: 30px; padding: 5px; margin: 10px; border-radius: 10px; text-decoration: none;\n                    background-color: #3498db; color: white;' \n                    href=".concat(t.src," download='timetable'>Download Image</a>\n                ").concat(t.outerHTML,"\n            ")),e.document.close()}}},{key:"render",value:function(){var e=this.props.isPreviewOpen;return r.a.createElement("div",{className:"timetable ".concat(e?"":"hidden"),ref:this.timetableHTML},r.a.createElement("div",{className:"timetable__previewer",id:"timetable__previewer"},r.a.createElement("button",{type:"button",className:"timetable__previewer__closebtn",id:"timetable__previewer__closebtn",onClick:this.closePreviewBtnHandler},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("div",{className:"timetable__previewer__wrapper",id:"timetable__previewer__wrapper",ref:this.timetableCanvasWindow}),r.a.createElement("div",{className:"timetable__previewer__btnDiv",id:"timetable__previewer__btnDiv"},r.a.createElement("button",{type:"button",className:"timetable__previewer__downloadbtn",id:"timetable__previewer__downloadbtn",onClick:this.downloadBtnHandler},"Download as png"),r.a.createElement("button",{type:"button",className:"timetable__previewer__openTab",id:"timetable__previewer__openTab",onClick:this.openTabBtnHandler},"Open in new tab"))))}}]),n}(r.a.Component);var ee=Object(i.b)((function(e){return{isPreviewOpen:e.isPreviewOpen,timetableRenderData:e.timetableRenderData,settings:e.settings}}),(function(e){return{closePreview:function(){return e(G.closePreview())}}}))($),te={openSetting:function(){return{type:l.OPEN_SETTING}},closeSetting:function(){return{type:l.CLOSE_SETTING}},changeSetting:function(e){return{type:l.CHANGE_SETTING,payload:{settingEvent:e}}},saveSetting:function(){return{type:l.SAVE_SETTING}},loadSetting:function(){return{type:l.LOAD_SETTING}},delSetting:function(){return{type:l.DEL_SETTING}}};var ne=function(e){return r.a.createElement("div",{className:"settings__category settings__savedel"},r.a.createElement("h4",{className:"settings__category__title"},"Save / Load / Clear Local Storage"),r.a.createElement("div",{className:"settings__savedel__wrapper"},r.a.createElement("button",{className:"settings__savedel__btn",onClick:e.saveSetting,title:"Save State"},r.a.createElement("i",{className:"fas fa-save"})),r.a.createElement("button",{className:"settings__savedel__btn",onClick:e.loadSetting,title:"Load State"},r.a.createElement("i",{className:"fas fa-upload"})),r.a.createElement("button",{className:"settings__savedel__btn",onClick:e.delSetting,title:"Clear State"},r.a.createElement("i",{className:"fas fa-trash-alt"}))))};var ae=function(e){return r.a.createElement("div",{className:"settings__category settings__general"},r.a.createElement("h4",{className:"settings__category__title"},"General"),r.a.createElement("div",{className:"settings__general__wrapper"},r.a.createElement("div",{className:"settings__general__theme"},r.a.createElement("p",{className:"settings__general__subtitle"},"Theme"),r.a.createElement("select",{className:"settings__general__select",value:e.theme,id:"theme",onChange:e.changeSetting,title:"Preset color theme for your timetable"},r.a.createElement("option",{value:"default"},"Default"),r.a.createElement("option",{value:"futuristic"},"Futuristic"),r.a.createElement("option",{value:"cuteness"},"Cuteness"),r.a.createElement("option",{value:"spiderman"},"Spiderman"),r.a.createElement("option",{value:"nature"},"Nature"))),r.a.createElement("div",{className:"settings__general__weekend"},r.a.createElement("p",{className:"settings__general__subtitle"},"Weekend"),r.a.createElement("select",{className:"settings__general__select",value:e.isIslamicWeekend?0:1,id:"weekend",onChange:e.changeSetting,title:"Select the 2 weekends according to your Malaysia State"},r.a.createElement("option",{value:"0"},"Friday / Saturday"),r.a.createElement("option",{value:"1"},"Saturday / Sunday")))))};var re=function(e){var t=e.settings,n=t.courseNameFontSize,a=t.lecturerNameFontSize,s=t.courseCodeFontSize,o=t.gridWidth,i=t.gridHeight,c=e.renderProp,l=e.changeSetting;return r.a.createElement("div",{className:"settings__category settings__gridProps"},r.a.createElement("h4",{className:"settings__category__title"},"Grid Properties"),r.a.createElement("div",{className:"settings__gridProps__wrapper"},r.a.createElement("div",{className:"settings__gridProps__inputGroup"},r.a.createElement("label",{htmlFor:"gridWidth"},"Grid Width"),r.a.createElement("input",{type:"number",id:"gridWidth",value:o,min:"0",max:"400",onChange:l})),r.a.createElement("div",{className:"settings__gridProps__inputGroup"},r.a.createElement("label",{htmlFor:"gridHeight"},"Grid Height"),r.a.createElement("input",{type:"number",id:"gridHeight",value:i,min:"0",max:"400",onChange:l}))),r.a.createElement("div",{className:"settings__gridProps__wrapper"},r.a.createElement("div",{className:"settings__gridProps__inputGroup"},r.a.createElement("label",{htmlFor:"courseName-fontsize"},"Course Name Font size"),r.a.createElement("input",{type:"number",id:"courseName-fontsize",value:n,min:"0",max:"70",onChange:l})),r.a.createElement("div",{className:"settings__gridProps__inputGroup"},r.a.createElement("label",{htmlFor:"lecturerName-fontsize"},"Lecturer Name Font size"),r.a.createElement("input",{type:"number",id:"lecturerName-fontsize",value:a,min:"0",max:"70",onChange:l})),r.a.createElement("div",{className:"settings__gridProps__inputGroup"},r.a.createElement("label",{htmlFor:"courseCode-fontsize"},"Course Code Font size"),r.a.createElement("input",{type:"number",id:"courseCode-fontsize",value:s,min:"0",max:"70",onChange:l}))),r.a.createElement("h4",{className:"settings__category__title"},"Example Grid"),r.a.createElement("div",{style:{fontFamily:c.fontFamily,backgroundColor:c.sideColorBG,color:c.labelFontColor,border:"solid 4px ".concat(c.baseBG),width:o,height:i},className:"settings__gridProps__preview"},r.a.createElement("p",{style:{fontSize:n}},"Engineering Basics"),r.a.createElement("p",{style:{fontSize:a}},"Dr. Ali bin Ahmed"),r.a.createElement("p",{style:{fontSize:s}},"AC20142")))};var se=function(e){var t=e.noOfSessions,n=e.changeSetting;return r.a.createElement("div",{className:"settings__category settings__noSessions"},r.a.createElement("h4",{className:"settings__category__title"},"Number of Sessions"),r.a.createElement("select",{className:"settings__noSessions__select",id:"noOfSessions",value:t,onChange:n,title:"How many column will exist in your timetable"},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"6"},"6"),r.a.createElement("option",{value:"7"},"7"),r.a.createElement("option",{value:"8"},"8"),r.a.createElement("option",{value:"9"},"9"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"11"},"11")))},oe=function(e){Object(O.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(N.a)(this,n),(a=t.call(this,e)).state={renderProperties:Q[a.props.settings.theme]},a.settingHTML=r.a.createRef(),a.closeSettingButtonHandler=a.closeSettingButtonHandler.bind(Object(D.a)(a)),a}return Object(C.a)(n,[{key:"closeSettingButtonHandler",value:function(){var e=this;this.settingHTML.current.classList.add("transitionOut"),setTimeout((function(){e.settingHTML.current.classList.remove("transitionOut"),e.props.closeSetting()}),800)}},{key:"render",value:function(){var e=this.props.settings,t=e.gridWidth,n=e.gridHeight,a=e.noOfSessions;return r.a.createElement("div",{className:"settings ".concat(this.props.isSettingOpen?"":"hidden"),id:"settings",ref:this.settingHTML},r.a.createElement("button",{type:"button",className:"settings__closebtn",id:"settings__closebtn",onClick:this.closeSettingButtonHandler},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("h3",{className:"settings__title"},"Settings"),r.a.createElement("p",{className:"settings__sizeEstimateMsg"},"Your timetable should be of size:",r.a.createElement("br",null),r.a.createElement("span",{className:"settings__sizeEstimateMsg__value"},"".concat(t*(Number(a)+1),"px ")),"x",r.a.createElement("span",{className:"settings__sizeEstimateMsg__value"}," ".concat(6*n,"px"))),r.a.createElement("div",{className:"settings__wrapper"},r.a.createElement(ne,{saveSetting:this.props.saveSetting,loadSetting:this.props.loadSetting,delSetting:this.props.delSetting}),r.a.createElement(ae,{theme:this.props.settings.theme,isIslamicWeekend:this.props.settings.isIslamicWeekend,changeSetting:this.props.changeSetting}),r.a.createElement(re,{settings:this.props.settings,renderProp:this.state.renderProperties,changeSetting:this.props.changeSetting}),r.a.createElement(se,{noOfSessions:this.props.settings.noOfSessions,changeSetting:this.props.changeSetting})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.settings.theme===t.renderProperties.name?t:Object.assign({},t,{renderProperties:Q[e.settings.theme]})}}]),n}(r.a.PureComponent);var ie=Object(i.b)((function(e){return{isSettingOpen:e.isSettingOpen,settings:e.settings}}),(function(e){return{closeSetting:function(){return e(te.closeSetting())},changeSetting:function(t){return e(te.changeSetting(t))},saveSetting:function(){return e(te.saveSetting())},loadSetting:function(){return e(te.loadSetting())},delSetting:function(){return e(te.delSetting())}}}))(oe);var ce=Object(i.b)((function(e){return{isBlocking:e.isPreviewOpen||e.isSettingOpen}}),null)((function(e){return r.a.createElement("div",{className:"blocker ".concat(e.isBlocking?"blocking":"")})})),le=function(e){Object(O.a)(n,e);var t=Object(y.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container",id:"container"},r.a.createElement("header",{className:"header",id:"header"},r.a.createElement("img",{className:"header__logo",id:"header__logo",src:"https://upload.wikimedia.org/wikipedia/commons/8/81/UTM-LOGO.png",alt:"Logo of UTM"}),r.a.createElement("h1",{className:"header__title",id:"header__title"},"UTM Timetable Generator"),r.a.createElement("button",{className:"header__setting",id:"header__setting",type:"button",onClick:this.props.openSetting},r.a.createElement("i",{className:"fas fa-cog header__setting__cog1"}),r.a.createElement("i",{className:"fas fa-cog header__setting__cog2"}))),r.a.createElement(ce,null),r.a.createElement(R,null),r.a.createElement(ee,null),r.a.createElement(ie,null),r.a.createElement("footer",{className:"footer",id:"footer"},r.a.createElement("a",{href:"https://github.com/AdmiJW/UTM_Timetable_Generator/issues",target:"_blank",rel:"noopener noreferrer",className:"footer__support",id:"footer__support"},r.a.createElement("h3",{className:"footer__support__text"},"Support"),r.a.createElement("img",{className:"footer__support__logo",src:"https://icons-for-free.com/iconfiles/png/512/github+hub+icon+icon-1320194641335079152.png",alt:"github logo"})),r.a.createElement("p",{className:"footer__desc"},"An open source project")))}}]),n}(r.a.Component);var ue=Object(i.b)(null,(function(e){return{openSetting:function(){return e(te.openSetting())}}}))(le),me=n(36),de=n.n(me);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:w},r.a.createElement(ue,null))),document.getElementById("root"));["Orbitron","Roboto","Grandstander","Marvel","Cantora One"].forEach((function(e){new de.a(e).load().then((function(e){})).catch((function(t){console.log("Loading of Web Font '"+e+"' Failed!")}))}))}},[[37,1,2]]]);
//# sourceMappingURL=main.afa8ec52.chunk.js.map